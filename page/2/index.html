<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"abelxiaoxing.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
<meta property="og:type" content="website">
<meta property="og:title" content="abelçš„å°å¤©åœ°">
<meta property="og:url" content="https://abelxiaoxing.github.io/page/2/index.html">
<meta property="og:site_name" content="abelçš„å°å¤©åœ°">
<meta property="og:description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="abelxiaoxing">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://abelxiaoxing.github.io/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>abelçš„å°å¤©åœ°</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">abelçš„å°å¤©åœ°</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">abelxiaoxing</p>
  <div class="site-description" itemprop="description">ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2024/07/19/KVM%E8%99%9A%E6%8B%9F%E5%8C%96%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/19/KVM%E8%99%9A%E6%8B%9F%E5%8C%96%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">KVMè™šæ‹ŸåŒ–æ•™ç¨‹</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2024-07-19 16:59:58" itemprop="dateCreated datePublished" datetime="2024-07-19T16:59:58+08:00">2024-07-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-19 16:55:46" itemprop="dateModified" datetime="2025-03-19T16:55:46+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="KVMè™šæ‹ŸåŒ–å®Œå…¨æŒ‡å—"><a href="#KVMè™šæ‹ŸåŒ–å®Œå…¨æŒ‡å—" class="headerlink" title="KVMè™šæ‹ŸåŒ–å®Œå…¨æŒ‡å—"></a>KVMè™šæ‹ŸåŒ–å®Œå…¨æŒ‡å—</h1><blockquote>
<p>KVM (Kernel-based Virtual Machine) æ˜¯Linuxå†…æ ¸çš„ä¸€ä¸ªæ¨¡å—ï¼Œå¯ä»¥å°†Linuxè½¬å˜ä¸ºä¸€ä¸ªhypervisorã€‚æœ¬æ•™ç¨‹å°†æŒ‡å¯¼æ‚¨ä»é›¶å¼€å§‹æ­å»ºKVMè™šæ‹ŸåŒ–ç¯å¢ƒï¼Œå¹¶åˆ›å»ºè™šæ‹Ÿæœºã€‚</p>
</blockquote>
<h2 id="1-ç¯å¢ƒæ£€æŸ¥"><a href="#1-ç¯å¢ƒæ£€æŸ¥" class="headerlink" title="1. ç¯å¢ƒæ£€æŸ¥"></a>1. ç¯å¢ƒæ£€æŸ¥</h2><p>åœ¨å¼€å§‹å®‰è£…KVMä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦ç¡®è®¤æ‚¨çš„ç¡¬ä»¶æ˜¯å¦æ”¯æŒè™šæ‹ŸåŒ–ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æµ‹CPUæ˜¯å¦æ”¯æŒè™šæ‹ŸåŒ–ï¼Œè¾“å‡ºå¤§äº0åˆ™è¡¨ç¤ºæ”¯æŒ</span></span><br><span class="line">egrep -c <span class="string">&#x27;(vmx|svm)&#x27;</span> /proc/cpuinfo</span><br><span class="line"></span><br><span class="line"><span class="comment"># ubuntuä¹Ÿå¯ä»¥å®‰è£…cpu-checkerè½¯ä»¶åŒ…æ£€æŸ¥KVMç¯å¢ƒ</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y cpu-checker</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œkvm-okå‘½ä»¤æ£€æŸ¥ï¼Œè¾“å‡º&quot;KVM acceleration can be used&quot;å³ä¸ºå¯ç”¨</span></span><br><span class="line">kvm-ok</span><br></pre></td></tr></table></figure>

<h2 id="2-è½¯ä»¶åŒ…å®‰è£…"><a href="#2-è½¯ä»¶åŒ…å®‰è£…" class="headerlink" title="2. è½¯ä»¶åŒ…å®‰è£…"></a>2. è½¯ä»¶åŒ…å®‰è£…</h2><p>æ ¹æ®æ‚¨çš„Linuxå‘è¡Œç‰ˆï¼Œé€‰æ‹©å¯¹åº”çš„å®‰è£…æ–¹å¼ï¼š</p>
<h3 id="2-1-ARCHç³»ï¼ˆArch-Linux-x2F-Manjaroç­‰ï¼‰"><a href="#2-1-ARCHç³»ï¼ˆArch-Linux-x2F-Manjaroç­‰ï¼‰" class="headerlink" title="2.1 ARCHç³»ï¼ˆArch Linux&#x2F;Manjaroç­‰ï¼‰"></a>2.1 ARCHç³»ï¼ˆArch Linux&#x2F;Manjaroç­‰ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…åŸºæœ¬ç»„ä»¶</span></span><br><span class="line"><span class="built_in">sudo</span> pacman -S qemu libvirt ovmf virt-manager virt-viewer dnsmasq vde2 bridge-utils openbsd-netcat</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ç½‘ç»œç›¸å…³ç»„ä»¶</span></span><br><span class="line"><span class="built_in">sudo</span> pacman -S ebtables iptables</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…libguestfså·¥å…·</span></span><br><span class="line">paru -S libguestfs</span><br></pre></td></tr></table></figure>

<p><strong>ç»„ä»¶è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>kvm</strong>: è´Ÿè´£CPUå’Œå†…å­˜çš„è™šæ‹ŸåŒ–</li>
<li><strong>qemu</strong>: å‘Guest OSæ¨¡æ‹Ÿç¡¬ä»¶ï¼ˆä¾‹å¦‚ï¼ŒCPUï¼Œç½‘å¡ï¼Œç£ç›˜ç­‰ï¼‰</li>
<li><strong>ovmf</strong>: ä¸ºè™šæ‹Ÿæœºå¯ç”¨UEFIæ”¯æŒ</li>
<li><strong>libvirt</strong>: æä¾›ç®¡ç†è™šæ‹Ÿæœºå’Œå…¶å®ƒè™šæ‹ŸåŒ–åŠŸèƒ½çš„å·¥å…·å’ŒAPI</li>
<li><strong>virt-manager</strong>: å›¾å½¢ç•Œé¢ç®¡ç†KVMè™šæ‹ŸåŒ–</li>
</ul>
<h3 id="2-2-Debianç³»ï¼ˆUbuntu-x2F-Debianç­‰ï¼‰"><a href="#2-2-Debianç³»ï¼ˆUbuntu-x2F-Debianç­‰ï¼‰" class="headerlink" title="2.2 Debianç³»ï¼ˆUbuntu&#x2F;Debianç­‰ï¼‰"></a>2.2 Debianç³»ï¼ˆUbuntu&#x2F;Debianç­‰ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</span></span><br><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…KVMåŠç›¸å…³å·¥å…·</span></span><br><span class="line"><span class="built_in">sudo</span> apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils libguestfs-tools virt-viewer virt-manager virtinst</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…Pythonç»‘å®šï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> apt install python3-libvirt</span><br></pre></td></tr></table></figure>

<p><strong>ç»„ä»¶è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>qemu-kvm</strong>: å³qemu+kvmï¼Œkvmè´Ÿè´£cpuå’Œå†…å­˜çš„è™šæ‹ŸåŒ–ï¼Œè€Œqemuè´Ÿè´£IOè®¾å¤‡ï¼Œå¦‚ç½‘å¡å’Œç£ç›˜ç­‰çš„è™šæ‹ŸåŒ–</li>
<li><strong>libvirt-daemon-system</strong>: KVMç®¡ç†å·¥å…·ï¼Œä¸ºä¸åŒçš„è™šæ‹Ÿæœºç›‘è§†å™¨æä¾›äº†ç»Ÿä¸€çš„æ¥å£</li>
<li><strong>libvirt-clients</strong>: åŒ…å«äº†ä¸€ç»„ç”¨äºä¸libvirtåº“äº¤äº’çš„å‘½ä»¤è¡Œå·¥å…·ï¼ŒåŒ…æ‹¬ï¼š<ul>
<li><strong>virsh</strong>: ç”¨äºè™šæ‹Ÿæœºçš„åˆ›å»ºï¼Œå¯åŠ¨ï¼Œåœæ­¢ï¼Œè¿ç§»ï¼Œå…‹éš†ï¼Œé…ç½®æ–‡ä»¶ç®¡ç†ç­‰æ“ä½œ</li>
<li><strong>virt-install</strong>: ç”¨äºGuestOSå®‰è£…</li>
<li><strong>virt-clone</strong>: ç”¨äºè™šæ‹Ÿæœºå…‹éš†</li>
</ul>
</li>
<li><strong>bridge-utils</strong>: é…ç½®ç½‘æ¡¥</li>
<li><strong>libguestfs-tools</strong>: è™šæ‹Ÿæœºé•œåƒç®¡ç†å·¥å…·ï¼ŒåŒ…æ‹¬virt-catã€virt-editã€virt-lsã€virt-rescue</li>
<li><strong>virt-viewer</strong>: ç”¨äºè™šæ‹Ÿæœºæ§åˆ¶å°</li>
<li><strong>virt-manager</strong>: å›¾å½¢ç•Œé¢ç®¡ç†KVMè™šæ‹ŸåŒ–</li>
<li><strong>virtinst</strong>: å‘½ä»¤è¡Œå·¥å…·ï¼ŒåŒ…æ‹¬virt-installã€virt-cloneã€virt-managerç­‰</li>
<li><strong>python3-libvirt</strong>: libvirtåº“çš„Pythonç»‘å®šï¼Œç”¨äºåœ¨Pythonä¸­ä½¿ç”¨libvirtçš„åŠŸèƒ½</li>
</ul>
<h2 id="3-å¯åŠ¨libvirtæœåŠ¡"><a href="#3-å¯åŠ¨libvirtæœåŠ¡" class="headerlink" title="3. å¯åŠ¨libvirtæœåŠ¡"></a>3. å¯åŠ¨libvirtæœåŠ¡</h2><p>å®‰è£…å®Œæˆåï¼Œéœ€è¦å¯åŠ¨å¹¶å¯ç”¨libvirtæœåŠ¡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨libvirtæœåŠ¡</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl start libvirtd.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¼€æœºè‡ªå¯</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> libvirtd.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æœåŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl status libvirtd.service</span><br></pre></td></tr></table></figure>

<h2 id="4-æ£€æŸ¥KVMæ¨¡å—"><a href="#4-æ£€æŸ¥KVMæ¨¡å—" class="headerlink" title="4. æ£€æŸ¥KVMæ¨¡å—"></a>4. æ£€æŸ¥KVMæ¨¡å—</h2><p>ç¡®è®¤KVMæ¨¡å—å·²æ­£ç¡®åŠ è½½ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ lsmod | grep kvm</span><br><span class="line">kvm_intel             372736  5</span><br><span class="line">kvm                  1032192  1 kvm_intel</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šAMDå¤„ç†å™¨ç”¨æˆ·ä¼šçœ‹åˆ°kvm_amdè€Œä¸æ˜¯kvm_intel</p>
</blockquote>
<h2 id="5-ç”¨æˆ·æƒé™é…ç½®ï¼ˆå¯é€‰ï¼‰"><a href="#5-ç”¨æˆ·æƒé™é…ç½®ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="5. ç”¨æˆ·æƒé™é…ç½®ï¼ˆå¯é€‰ï¼‰"></a>5. ç”¨æˆ·æƒé™é…ç½®ï¼ˆå¯é€‰ï¼‰</h2><p>ä¸ºäº†é¿å…æ¯æ¬¡æ“ä½œéƒ½éœ€è¦ä½¿ç”¨sudoï¼Œå¯ä»¥å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°kvmå’Œlibvirtç»„ã€‚<br>ä¿®æ”¹ç»„åï¼Œéœ€è¦é‡æ–°ç™»å½•æˆ–æ³¨é”€å†ç™»å½•æ‰èƒ½ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚</p>
<h3 id="5-1-æ–¹æ³•ä¸€ï¼šç›´æ¥æ·»åŠ ç”¨æˆ·åˆ°ç»„"><a href="#5-1-æ–¹æ³•ä¸€ï¼šç›´æ¥æ·»åŠ ç”¨æˆ·åˆ°ç»„" class="headerlink" title="5.1 æ–¹æ³•ä¸€ï¼šç›´æ¥æ·»åŠ ç”¨æˆ·åˆ°ç»„"></a>5.1 æ–¹æ³•ä¸€ï¼šç›´æ¥æ·»åŠ ç”¨æˆ·åˆ°ç»„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ å½“å‰ç”¨æˆ·åˆ°kvmç»„</span></span><br><span class="line"><span class="built_in">sudo</span> usermod -aG kvm <span class="variable">$USER</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å½“å‰ç”¨æˆ·åˆ°libvirtç»„</span></span><br><span class="line"><span class="built_in">sudo</span> usermod -aG libvirt $(<span class="built_in">whoami</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯ç”¨æˆ·æ˜¯å¦å·²åŠ å…¥ç»„ä¸­</span></span><br><span class="line"><span class="built_in">id</span> $(<span class="built_in">whoami</span>)</span><br><span class="line"><span class="comment"># è¾“å‡ºç¤ºä¾‹ï¼šuid=1001(gycx) gid=1001(gycx) groups=1001(gycx),108(kvm),138(libvirt)</span></span><br></pre></td></tr></table></figure>

<h3 id="5-2-æ–¹æ³•äºŒï¼šä¿®æ”¹libvirté…ç½®"><a href="#5-2-æ–¹æ³•äºŒï¼šä¿®æ”¹libvirté…ç½®" class="headerlink" title="5.2 æ–¹æ³•äºŒï¼šä¿®æ”¹libvirté…ç½®"></a>5.2 æ–¹æ³•äºŒï¼šä¿®æ”¹libvirté…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¼–è¾‘libvirté…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">sudo</span> vim /etc/libvirt/libvirtd.conf</span><br></pre></td></tr></table></figure>

<p>å°†UNIXåŸŸå¥—æ¥å­—ç»„æ‰€æœ‰æƒè®¾ç½®ä¸ºlibvirt(ç¬¬85è¡Œ)ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unix_sock_group = &quot;libvirt&quot;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®R&#x2F;Wå¥—æ¥å­—çš„UNIXå¥—æ¥å­—æƒé™ï¼ˆç¬¬102è¡Œï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unix_sock_rw_perms = &quot;0770&quot;</span><br></pre></td></tr></table></figure>

<p>å°†ç”¨æˆ·å¸æˆ·æ·»åŠ åˆ°libvirtç»„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> usermod -a -G libvirt $(<span class="built_in">whoami</span>)</span><br><span class="line">newgrp libvirt</span><br></pre></td></tr></table></figure>

<p>é‡å¯libvirtå®ˆæŠ¤è¿›ç¨‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart libvirtd.service</span><br></pre></td></tr></table></figure>

<h2 id="6-å¯ç”¨åµŒå¥—è™šæ‹ŸåŒ–ï¼ˆå¯é€‰ï¼‰"><a href="#6-å¯ç”¨åµŒå¥—è™šæ‹ŸåŒ–ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="6. å¯ç”¨åµŒå¥—è™šæ‹ŸåŒ–ï¼ˆå¯é€‰ï¼‰"></a>6. å¯ç”¨åµŒå¥—è™šæ‹ŸåŒ–ï¼ˆå¯é€‰ï¼‰</h2><p>åµŒå¥—è™šæ‹ŸåŒ–åŠŸèƒ½ä½¿æ‚¨å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œè™šæ‹Ÿæœºï¼Œè¿™å¯¹äºæµ‹è¯•å’Œå¼€å‘ç¯å¢ƒéå¸¸æœ‰ç”¨ã€‚</p>
<h3 id="6-1-Intelå¤„ç†å™¨"><a href="#6-1-Intelå¤„ç†å™¨" class="headerlink" title="6.1 Intelå¤„ç†å™¨"></a>6.1 Intelå¤„ç†å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸è½½å½“å‰kvm_intelæ¨¡å—</span></span><br><span class="line"><span class="built_in">sudo</span> modprobe -r kvm_intel</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½æ¨¡å—å¹¶å¯ç”¨åµŒå¥—è™šæ‹ŸåŒ–</span></span><br><span class="line"><span class="built_in">sudo</span> modprobe kvm_intel nested=1</span><br></pre></td></tr></table></figure>

<p>è¦ä½¿æ­¤é…ç½®æŒä¹…åŒ–ï¼Œè¯·è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;options kvm-intel nested=1&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/modprobe.d/kvm-intel.conf</span><br></pre></td></tr></table></figure>

<p>ç¡®è®¤åµŒå¥—è™šæ‹ŸåŒ–å·²å¯ç”¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">systool -m kvm_intel -v | grep nested</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼šnested = &quot;Y&quot;</span></span><br><span class="line"><span class="comment"># è¾“å‡ºï¼šnested_early_check = &quot;N&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /sys/module/kvm_intel/parameters/nested</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼šY</span></span><br></pre></td></tr></table></figure>

<h3 id="6-2-AMDå¤„ç†å™¨"><a href="#6-2-AMDå¤„ç†å™¨" class="headerlink" title="6.2 AMDå¤„ç†å™¨"></a>6.2 AMDå¤„ç†å™¨</h3><p>å¯¹äºAMDå¤„ç†å™¨ï¼Œå°†ä¸Šè¿°å‘½ä»¤ä¸­çš„<code>kvm_intel</code>æ›¿æ¢ä¸º<code>kvm_amd</code>å³å¯ã€‚</p>
<h2 id="7-ç½‘ç»œé…ç½®"><a href="#7-ç½‘ç»œé…ç½®" class="headerlink" title="7. ç½‘ç»œé…ç½®"></a>7. ç½‘ç»œé…ç½®</h2><h3 id="7-1-åˆ›å»ºç½‘æ¡¥-br0-ï¼Œé…ç½®åŒä¸€ç½‘æ®µ"><a href="#7-1-åˆ›å»ºç½‘æ¡¥-br0-ï¼Œé…ç½®åŒä¸€ç½‘æ®µ" class="headerlink" title="7.1 åˆ›å»ºç½‘æ¡¥(br0)ï¼Œé…ç½®åŒä¸€ç½‘æ®µ"></a>7.1 åˆ›å»ºç½‘æ¡¥(br0)ï¼Œé…ç½®åŒä¸€ç½‘æ®µ</h3><p>ä¸ºå®ç°ä»æœ¬æœºå¤–è®¿é—®è™šæ‹Ÿæœºï¼Œå¿…é¡»å°†è™šæ‹Ÿæœºçš„ç½‘å¡æ˜ å°„è‡³ç½‘æ¡¥ã€‚virbr0ç½‘æ¡¥æ˜¯KVMå®‰è£…å®Œæˆåè‡ªåŠ¨åˆ›å»ºçš„ï¼Œä»…åšæµ‹è¯•ç”¨é€”ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºç½‘æ¡¥ä¿¡æ¯</span></span><br><span class="line">brctl show</span><br><span class="line"><span class="comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span><br><span class="line"><span class="comment"># bridge name     bridge id               STP enabled     interfaces</span></span><br><span class="line"><span class="comment"># virbr0          8000.525400a882e2       yes             virbr0-nic</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡åœ¨<code>/etc/netplan</code>ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶<code>01-netcfg.yaml</code>æ¥æ–°å»ºç½‘æ¡¥ï¼š</p>
<blockquote>
<p>æç¤ºï¼š</p>
<ol>
<li>ä½¿ç”¨<code>ifconfig</code>ç¡®è®¤å½“å‰ç½‘å£è®¾å¤‡ã€IPåœ°å€å’ŒMACåœ°å€</li>
<li>ä½¿ç”¨<code>ip route</code>è·å–é»˜è®¤viaå’Œmetricå€¼</li>
</ol>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line">  <span class="attr">ethernets:</span></span><br><span class="line">    <span class="attr">eno2:</span>  <span class="comment"># æ›¿æ¢ä¸ºæ‚¨çš„ç½‘ç»œæ¥å£åç§°</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">dhcp6:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">bridges:</span></span><br><span class="line">    <span class="attr">br0:</span></span><br><span class="line">      <span class="attr">interfaces:</span> [<span class="string">eno2</span>]  <span class="comment"># æ›¿æ¢ä¸ºæ‚¨çš„ç½‘ç»œæ¥å£åç§°</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">addresses:</span> [<span class="number">192.168</span><span class="number">.100</span><span class="number">.123</span><span class="string">/24</span>]  <span class="comment"># æ›¿æ¢ä¸ºæ‚¨çš„IPåœ°å€</span></span><br><span class="line">      <span class="attr">macaddress:</span> <span class="string">7c:c2:55:4d:e1:e9</span>  <span class="comment"># æ›¿æ¢ä¸ºæ‚¨çš„MACåœ°å€</span></span><br><span class="line">      <span class="attr">routes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">to:</span> <span class="string">default</span></span><br><span class="line">          <span class="attr">via:</span> <span class="number">192.168</span><span class="number">.100</span><span class="number">.1</span>  <span class="comment"># æ›¿æ¢ä¸ºæ‚¨çš„ç½‘å…³åœ°å€</span></span><br><span class="line">          <span class="attr">metric:</span> <span class="number">101</span></span><br><span class="line">      <span class="attr">nameservers:</span></span><br><span class="line">        <span class="attr">addresses:</span> [<span class="number">223.5</span><span class="number">.5</span><span class="number">.5</span>]  <span class="comment"># æ›¿æ¢ä¸ºæ‚¨çš„DNSæœåŠ¡å™¨</span></span><br><span class="line">      <span class="attr">parameters:</span></span><br><span class="line">        <span class="attr">stp:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">dhcp6:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">version:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>åº”ç”¨ç½‘ç»œé…ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> netplan apply</span><br><span class="line">ip add show  <span class="comment"># æ£€æŸ¥é…ç½®æ˜¯å¦ç”Ÿæ•ˆ</span></span><br></pre></td></tr></table></figure>

<h2 id="8-åˆ›å»ºè™šæ‹Ÿæœº"><a href="#8-åˆ›å»ºè™šæ‹Ÿæœº" class="headerlink" title="8. åˆ›å»ºè™šæ‹Ÿæœº"></a>8. åˆ›å»ºè™šæ‹Ÿæœº</h2><p>åˆ›å»ºè™šæ‹Ÿæœºæœ‰ä¸¤ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½é€‰æ‹©å…¶ä¸­ä¸€ç§ï¼š</p>
<h3 id="8-1-å›¾å½¢åŒ–åˆ›å»ºè™šæ‹Ÿæœº"><a href="#8-1-å›¾å½¢åŒ–åˆ›å»ºè™šæ‹Ÿæœº" class="headerlink" title="8.1 å›¾å½¢åŒ–åˆ›å»ºè™šæ‹Ÿæœº"></a>8.1 å›¾å½¢åŒ–åˆ›å»ºè™šæ‹Ÿæœº</h3><ol>
<li>è¿è¡Œ<code>virt-manager</code>ï¼Œå¯åŠ¨å›¾å½¢åŒ–ç•Œé¢è¿›è¡ŒKVMè™šæ‹Ÿæœºå®‰è£…</li>
<li>ç‚¹å‡»ã€Œæ·»åŠ è¿æ¥ã€(Add connection)ï¼Œé€‰æ‹©ã€Œæœ¬åœ°å®‰è£…ä»‹è´¨ã€(Local install media)</li>
<li>é€‰æ‹©ã€Œé€‰æ‹©ISOæˆ–CDROMå®‰è£…ä»‹è´¨ã€(Choose ISO or CDROM install media)</li>
<li>é€‰æ‹©è¦å®‰è£…çš„ISOé•œåƒï¼Œç‚¹å‡»ã€Œé€‰æ‹©å·ã€(Choose volume)</li>
<li>ç‚¹å‡»ã€Œå‰è¿›ã€(Forward)</li>
<li>è®¾ç½®CPUå’Œå†…å­˜ï¼Œç‚¹å‡»ã€Œå‰è¿›ã€(Forward)</li>
<li>ç‚¹å‡»ã€Œä¸ºæ­¤è™šæ‹Ÿæœºå¯ç”¨å­˜å‚¨ã€(Enable storage for this virtual machine)ï¼Œå¹¶ç‚¹å‡»ã€Œä¸ºè™šæ‹Ÿæœºåˆ›å»ºç£ç›˜é•œåƒã€(Create a disk image for the virtual machine)ï¼Œé€‰æ‹©ç¡¬ç›˜å¤§å°</li>
<li>ç‚¹å‡»ã€Œå‰è¿›ã€(Forward)</li>
<li>é€‰æ‹©ç½‘æ¡¥ä¸ºbr0ï¼Œç‚¹å‡»ã€Œå®Œæˆã€(Finish)</li>
</ol>
<h3 id="8-2-å‘½ä»¤è¡Œåˆ›å»ºè™šæ‹Ÿæœº"><a href="#8-2-å‘½ä»¤è¡Œåˆ›å»ºè™šæ‹Ÿæœº" class="headerlink" title="8.2 å‘½ä»¤è¡Œåˆ›å»ºè™šæ‹Ÿæœº"></a>8.2 å‘½ä»¤è¡Œåˆ›å»ºè™šæ‹Ÿæœº</h3><p>ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªé…ç½®ä¸º4æ ¸CPUã€8GBå†…å­˜ã€200GBç£ç›˜çš„Windows 10è™šæ‹Ÿæœºï¼Œç£ç›˜ä¸ºç¨€ç–æ¨¡å¼ï¼Œæ ¼å¼ä¸ºqcow2ï¼Œæ€»çº¿ç±»å‹ä¸ºvirtioï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">virt-install --virt-type=kvm --name=win10 --vcpus=4 --memory=8192 \</span><br><span class="line">  --osinfo=win10 --cdrom=/var/lib/libvirt/images/win10.iso \</span><br><span class="line">  --disk path=/var/lib/libvirt/images/win10.qcow2,size=200,format=qcow2,bus=virtio,sparse \</span><br><span class="line">  --network bridge=br0 --graphics vnc,listen=0.0.0.0 --noautoconsole --force</span><br></pre></td></tr></table></figure>

<h2 id="9-å¸¸ç”¨æ“ä½œå‘½ä»¤"><a href="#9-å¸¸ç”¨æ“ä½œå‘½ä»¤" class="headerlink" title="9. å¸¸ç”¨æ“ä½œå‘½ä»¤"></a>9. å¸¸ç”¨æ“ä½œå‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰è™šæ‹Ÿæœº</span></span><br><span class="line">virsh list --all</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨è™šæ‹Ÿæœº</span></span><br><span class="line">virsh start &lt;vm-name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­è™šæ‹Ÿæœºï¼ˆæ­£å¸¸å…³æœºï¼‰</span></span><br><span class="line">virsh shutdown &lt;vm-name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼ºåˆ¶å…³é—­è™šæ‹Ÿæœº</span></span><br><span class="line">virsh destroy &lt;vm-name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤è™šæ‹Ÿæœºï¼ˆå…ˆå…³é—­å†åˆ é™¤ï¼‰</span></span><br><span class="line">virsh undefine &lt;vm-name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…‹éš†è™šæ‹Ÿæœº</span></span><br><span class="line">virt-clone --original &lt;source-vm&gt; --name &lt;target-vm&gt; --auto-clone</span><br></pre></td></tr></table></figure>
<hr>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2024/07/19/Linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85MATLAB%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/19/Linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85MATLAB%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">Linuxç³»ç»Ÿå®‰è£…MATLABå®Œå…¨æŒ‡å—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2024-07-19 15:49:40" itemprop="dateCreated datePublished" datetime="2024-07-19T15:49:40+08:00">2024-07-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-19 17:02:23" itemprop="dateModified" datetime="2025-03-19T17:02:23+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Linuxç³»ç»Ÿå®‰è£…MATLABå®Œå…¨æŒ‡å—"><a href="#Linuxç³»ç»Ÿå®‰è£…MATLABå®Œå…¨æŒ‡å—" class="headerlink" title="Linuxç³»ç»Ÿå®‰è£…MATLABå®Œå…¨æŒ‡å—"></a>Linuxç³»ç»Ÿå®‰è£…MATLABå®Œå…¨æŒ‡å—</h1><blockquote>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…MATLAB R2018açš„å®Œæ•´æ­¥éª¤ï¼ŒåŒ…æ‹¬å‡†å¤‡å·¥ä½œã€å®‰è£…è¿‡ç¨‹ã€æ¿€æ´»æ–¹æ³•ä»¥åŠåç»­å¤„ç†ã€‚</p>
</blockquote>
<h2 id="ğŸ“‹-å‡†å¤‡å·¥ä½œ"><a href="#ğŸ“‹-å‡†å¤‡å·¥ä½œ" class="headerlink" title="ğŸ“‹ å‡†å¤‡å·¥ä½œ"></a>ğŸ“‹ å‡†å¤‡å·¥ä½œ</h2><h3 id="1-è·å–å®‰è£…æ–‡ä»¶"><a href="#1-è·å–å®‰è£…æ–‡ä»¶" class="headerlink" title="1. è·å–å®‰è£…æ–‡ä»¶"></a>1. è·å–å®‰è£…æ–‡ä»¶</h3><p>ä¸‹è½½MATLAB R2018aå®‰è£…åŒ…ï¼š</p>
<ul>
<li>é“¾æ¥: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1nSvdZvzt-NFKxVR01KQgfQ?pwd=abel">MATLAB R2018a</a> </li>
<li>æå–ç : <code>abel</code></li>
</ul>
<h3 id="2-è§£å‹ç ´è§£æ–‡ä»¶"><a href="#2-è§£å‹ç ´è§£æ–‡ä»¶" class="headerlink" title="2. è§£å‹ç ´è§£æ–‡ä»¶"></a>2. è§£å‹ç ´è§£æ–‡ä»¶</h3><p>å‡è®¾ä¸‹è½½åçš„æ–‡ä»¶æ”¾åœ¨äº†<code>/home/username</code>ç›®å½•ä¸­ï¼ˆè¯·å°†usernameæ›¿æ¢ä¸ºä½ çš„ç”¨æˆ·åï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºCrackæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ç ´è§£æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> Crack</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹ç ´è§£æ–‡ä»¶åˆ°Crackæ–‡ä»¶å¤¹</span></span><br><span class="line">tar -xvf Matlab2018aLinux64Crack.tar.gz -C Crack</span><br></pre></td></tr></table></figure>

<h3 id="3-åˆ›å»ºæŒ‚è½½ç‚¹"><a href="#3-åˆ›å»ºæŒ‚è½½ç‚¹" class="headerlink" title="3. åˆ›å»ºæŒ‚è½½ç‚¹"></a>3. åˆ›å»ºæŒ‚è½½ç‚¹</h3><p>åœ¨<code>/mnt</code>ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥æŒ‚è½½ISOé•œåƒæ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /mnt</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> iso</span><br></pre></td></tr></table></figure>

<h3 id="4-æŒ‚è½½ç¬¬ä¸€ä¸ªISOé•œåƒ"><a href="#4-æŒ‚è½½ç¬¬ä¸€ä¸ªISOé•œåƒ" class="headerlink" title="4. æŒ‚è½½ç¬¬ä¸€ä¸ªISOé•œåƒ"></a>4. æŒ‚è½½ç¬¬ä¸€ä¸ªISOé•œåƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">sudo</span> mount -t auto -o loop R2018a_glnxa64_dvd1.iso /mnt/iso</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæç¤º<code>/mnt/iso: WARNING: device write-protected, mounted read-only</code>ï¼Œéœ€è¦ä¿®æ”¹<code>/mnt</code>çš„æƒé™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> 755 mnt</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="5-å¯åŠ¨å®‰è£…ç¨‹åº"><a href="#5-å¯åŠ¨å®‰è£…ç¨‹åº" class="headerlink" title="5. å¯åŠ¨å®‰è£…ç¨‹åº"></a>5. å¯åŠ¨å®‰è£…ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /mnt/iso</span><br><span class="line"><span class="built_in">sudo</span> ./matlab</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ”§-å®‰è£…è¿‡ç¨‹"><a href="#ğŸ”§-å®‰è£…è¿‡ç¨‹" class="headerlink" title="ğŸ”§ å®‰è£…è¿‡ç¨‹"></a>ğŸ”§ å®‰è£…è¿‡ç¨‹</h2><ol>
<li>åœ¨å®‰è£…ç•Œé¢é€‰æ‹© <strong>Use a File Installation Key</strong></li>
<li>åŒæ„è®¸å¯åè®®ï¼Œé€‰æ‹© <strong>Yes</strong></li>
<li>ä¿ç•™é»˜è®¤å®‰è£…ç›®å½•ï¼ˆé€šå¸¸ä¸º<code>/usr/local</code>ï¼‰</li>
<li>é€‰æ‹© <strong>I have the File Installation Key for my license</strong>ï¼Œè¾“å…¥ä»¥ä¸‹åºåˆ—å·ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">09806-07443-53955-64350-21751-41297</span><br></pre></td></tr></table></figure></li>
<li>å½“å®‰è£…è¿›åº¦æç¤ºéœ€è¦ç¬¬äºŒå¼ DVDæ—¶ï¼ŒæŒ‚è½½ç¬¬äºŒä¸ªISOé•œåƒï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">sudo</span> mount -t auto -o loop R2018a_glnxa64_dvd2.iso /mnt/iso</span><br></pre></td></tr></table></figure></li>
<li>å®‰è£…å®Œæˆåï¼Œç‚¹å‡» <strong>Finish</strong> ç»“æŸå®‰è£…å‘å¯¼</li>
</ol>
<h2 id="ğŸ”-æ¿€æ´»æ­¥éª¤"><a href="#ğŸ”-æ¿€æ´»æ­¥éª¤" class="headerlink" title="ğŸ” æ¿€æ´»æ­¥éª¤"></a>ğŸ” æ¿€æ´»æ­¥éª¤</h2><h3 id="1-å¤åˆ¶è®¸å¯è¯æ–‡ä»¶"><a href="#1-å¤åˆ¶è®¸å¯è¯æ–‡ä»¶" class="headerlink" title="1. å¤åˆ¶è®¸å¯è¯æ–‡ä»¶"></a>1. å¤åˆ¶è®¸å¯è¯æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Crack</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> license_standalone.lic /usr/local/MATLAB/R2018a/licenses</span><br></pre></td></tr></table></figure>

<h3 id="2-å¤åˆ¶ç ´è§£æ–‡ä»¶"><a href="#2-å¤åˆ¶ç ´è§£æ–‡ä»¶" class="headerlink" title="2. å¤åˆ¶ç ´è§£æ–‡ä»¶"></a>2. å¤åˆ¶ç ´è§£æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Crack</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> -r R2018a /usr/local/MATLAB</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>æç¤º</strong>ï¼šå®Œæˆä¸Šè¿°æ­¥éª¤åï¼ŒMATLABå·²æˆåŠŸæ¿€æ´»ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>
</blockquote>
<h2 id="âš™ï¸-åç»­é…ç½®"><a href="#âš™ï¸-åç»­é…ç½®" class="headerlink" title="âš™ï¸ åç»­é…ç½®"></a>âš™ï¸ åç»­é…ç½®</h2><h3 id="1-åˆ›å»ºå‘½ä»¤å¿«æ·æ–¹å¼"><a href="#1-åˆ›å»ºå‘½ä»¤å¿«æ·æ–¹å¼" class="headerlink" title="1. åˆ›å»ºå‘½ä»¤å¿«æ·æ–¹å¼"></a>1. åˆ›å»ºå‘½ä»¤å¿«æ·æ–¹å¼</h3><p>é€šè¿‡è½¯é“¾æ¥æ–¹å¼åœ¨ç³»ç»Ÿè·¯å¾„ä¸­åˆ›å»º<code>matlab</code>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/bin</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -s /usr/local/MATLAB/R2018a/bin/matlab matlab</span><br></pre></td></tr></table></figure>

<p>å®Œæˆæ­¤æ­¥éª¤åï¼Œå¯ä»¥åœ¨ç»ˆç«¯ä¸­ç›´æ¥è¾“å…¥<code>matlab</code>å‘½ä»¤å¯åŠ¨MATLABã€‚</p>
<h3 id="2-æ¸…ç†å®‰è£…æ–‡ä»¶"><a href="#2-æ¸…ç†å®‰è£…æ–‡ä»¶" class="headerlink" title="2. æ¸…ç†å®‰è£…æ–‡ä»¶"></a>2. æ¸…ç†å®‰è£…æ–‡ä»¶</h3><p>å¸è½½ISOé•œåƒå¹¶åˆ é™¤æŒ‚è½½ç‚¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> umount /mnt/iso</span><br><span class="line"><span class="built_in">cd</span> /mnt</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rmdir</span> iso</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ğŸ“-æ€»ç»“"><a href="#ğŸ“-æ€»ç»“" class="headerlink" title="ğŸ“ æ€»ç»“"></a>ğŸ“ æ€»ç»“</h2><p>æŒ‰ç…§ä¸Šè¿°æ­¥éª¤æ“ä½œåï¼Œæ‚¨å·²ç»æˆåŠŸåœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…å¹¶æ¿€æ´»äº†MATLAB R2018aã€‚ç°åœ¨å¯ä»¥é€šè¿‡ç»ˆç«¯è¾“å…¥<code>matlab</code>å‘½ä»¤æˆ–åœ¨åº”ç”¨ç¨‹åºèœå•ä¸­æ‰¾åˆ°MATLABå›¾æ ‡æ¥å¯åŠ¨è½¯ä»¶ã€‚</p>
<p>å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥å„æ­¥éª¤æ˜¯å¦æ­£ç¡®æ‰§è¡Œï¼Œç‰¹åˆ«æ˜¯æ–‡ä»¶è·¯å¾„å’Œæƒé™è®¾ç½®ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2024/06/23/ImageNet-1K%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E5%87%86%E5%A4%87%E4%B8%8E%E5%AF%BC%E5%85%A5%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/23/ImageNet-1K%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E5%87%86%E5%A4%87%E4%B8%8E%E5%AF%BC%E5%85%A5%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">ImageNet-1Kæ•°æ®é›†çš„å‡†å¤‡ä¸å¯¼å…¥æŒ‡å—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2024-06-23 17:10:00" itemprop="dateCreated datePublished" datetime="2024-06-23T17:10:00+08:00">2024-06-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-19 16:14:24" itemprop="dateModified" datetime="2025-03-19T16:14:24+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ImageNet-1Kæ•°æ®é›†çš„å‡†å¤‡ä¸å¯¼å…¥æŒ‡å—"><a href="#ImageNet-1Kæ•°æ®é›†çš„å‡†å¤‡ä¸å¯¼å…¥æŒ‡å—" class="headerlink" title="ImageNet-1Kæ•°æ®é›†çš„å‡†å¤‡ä¸å¯¼å…¥æŒ‡å—"></a>ImageNet-1Kæ•°æ®é›†çš„å‡†å¤‡ä¸å¯¼å…¥æŒ‡å—</h1><blockquote>
<p>ImageNet-1Kæ˜¯è®¡ç®—æœºè§†è§‰é¢†åŸŸæœ€å¸¸ç”¨çš„åŸºå‡†æ•°æ®é›†ä¹‹ä¸€ï¼ŒåŒ…å«1000ä¸ªç±»åˆ«çš„å›¾åƒæ•°æ®ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä¸‹è½½ã€å¤„ç†å’ŒåŠ è½½ImageNet-1Kæ•°æ®é›†ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå¼€å§‹æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒä¸æµ‹è¯•ã€‚</p>
</blockquote>
<h2 id="1-æ•°æ®é›†ä¸‹è½½"><a href="#1-æ•°æ®é›†ä¸‹è½½" class="headerlink" title="1. æ•°æ®é›†ä¸‹è½½"></a>1. æ•°æ®é›†ä¸‹è½½</h2><p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹ç™¾åº¦ç½‘ç›˜é“¾æ¥è·å–ImageNet-1Kæ•°æ®é›†ï¼š</p>
<p><strong>é“¾æ¥</strong>ï¼š<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1L5CSPffnVmeepC6pK35vbQ?pwd=abel">ImageNet-1K</a></p>
<p><strong>æå–ç </strong>ï¼š<code>abel</code></p>
<h2 id="2-æ•°æ®é›†ç»“æ„å‡†å¤‡"><a href="#2-æ•°æ®é›†ç»“æ„å‡†å¤‡" class="headerlink" title="2. æ•°æ®é›†ç»“æ„å‡†å¤‡"></a>2. æ•°æ®é›†ç»“æ„å‡†å¤‡</h2><p>ä¸‹è½½å®Œæˆåï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ç»„ç»‡æ•°æ®é›†ç»“æ„ï¼š</p>
<ol>
<li>åˆ›å»ºä¸‰ä¸ªä¸»è¦æ–‡ä»¶å¤¹ï¼š<code>train</code>ã€<code>val</code>å’Œ<code>test</code></li>
<li>å°†å¯¹åº”çš„å‹ç¼©åŒ…æ”¾å…¥å„è‡ªçš„æ–‡ä»¶å¤¹ä¸­</li>
<li>è§£å‹å„ä¸ªå‹ç¼©åŒ…æ–‡ä»¶</li>
</ol>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼š<code>train</code>å‹ç¼©åŒ…è§£å‹åä¼šäº§ç”Ÿ1000ä¸ªå­å‹ç¼©åŒ…ï¼Œè¿™äº›å­å‹ç¼©åŒ…å¯¹åº”ImageNet-1Kçš„1000ä¸ªç±»åˆ«ã€‚</p>
</blockquote>
<h2 id="3-æ‰¹é‡è§£å‹è®­ç»ƒæ•°æ®"><a href="#3-æ‰¹é‡è§£å‹è®­ç»ƒæ•°æ®" class="headerlink" title="3. æ‰¹é‡è§£å‹è®­ç»ƒæ•°æ®"></a>3. æ‰¹é‡è§£å‹è®­ç»ƒæ•°æ®</h2><p>è§£å‹å®Œä¸»å‹ç¼©åŒ…åï¼Œéœ€è¦æ‰¹é‡è§£å‹<code>train</code>æ–‡ä»¶å¤¹ä¸­çš„1000ä¸ªå­å‹ç¼©åŒ…ã€‚è¯·åœ¨<code>train</code>æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œä»¥ä¸‹Shellå‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> *.tar; <span class="keyword">do</span> [ -f <span class="string">&quot;<span class="variable">$f</span>&quot;</span> ] &amp;&amp; <span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$&#123;f%.tar&#125;</span>&quot;</span> &amp;&amp; tar -xf <span class="string">&quot;<span class="variable">$f</span>&quot;</span> -C <span class="string">&quot;<span class="variable">$&#123;f%.tar&#125;</span>&quot;</span>; <span class="keyword">done</span> &amp;&amp; <span class="built_in">rm</span> *.rar</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šè¿°è„šæœ¬åï¼Œæ‚¨å°†åœ¨<code>train</code>æ–‡ä»¶å¤¹ä¸‹è·å¾—1000ä¸ªå­æ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹åŒ…å«å¯¹åº”ç±»åˆ«çš„å›¾ç‰‡æ•°æ®ã€‚</p>
<h2 id="4-éªŒè¯é›†æ•°æ®å¤„ç†"><a href="#4-éªŒè¯é›†æ•°æ®å¤„ç†" class="headerlink" title="4. éªŒè¯é›†æ•°æ®å¤„ç†"></a>4. éªŒè¯é›†æ•°æ®å¤„ç†</h2><p>éªŒè¯é›†ï¼ˆ<code>val</code>ï¼‰çš„å›¾ç‰‡é»˜è®¤æ˜¯å¹³é“ºçš„ï¼Œéœ€è¦æŒ‰ç±»åˆ«ç»„ç»‡åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<h3 id="4-1-è§£å‹å¼€å‘å·¥å…·åŒ…"><a href="#4-1-è§£å‹å¼€å‘å·¥å…·åŒ…" class="headerlink" title="4.1 è§£å‹å¼€å‘å·¥å…·åŒ…"></a>4.1 è§£å‹å¼€å‘å·¥å…·åŒ…</h3><p>é¦–å…ˆï¼Œè§£å‹ImageNetå¼€å‘å·¥å…·åŒ…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xzf ILSVRC2012_devkit_t12.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="4-2-ç»„ç»‡éªŒè¯é›†å›¾ç‰‡"><a href="#4-2-ç»„ç»‡éªŒè¯é›†å›¾ç‰‡" class="headerlink" title="4.2 ç»„ç»‡éªŒè¯é›†å›¾ç‰‡"></a>4.2 ç»„ç»‡éªŒè¯é›†å›¾ç‰‡</h3><p>åœ¨ImageNetæ ¹ç›®å½•ï¼ˆåŒ…å«<code>devkit</code>å’Œ<code>val</code>çš„ç›®å½•ï¼‰ä¸­ï¼Œåˆ›å»ºå¹¶è¿è¡Œä»¥ä¸‹Pythonè„šæœ¬ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">move_valimg</span>(<span class="params">val_dir=<span class="string">&#x27;./val&#x27;</span>, devkit_dir=<span class="string">&#x27;./ILSVRC2012_devkit_t12&#x27;</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å°†éªŒè¯é›†å›¾ç‰‡ç§»åŠ¨åˆ°å¯¹åº”ç±»åˆ«çš„æ–‡ä»¶å¤¹ä¸­</span></span><br><span class="line"><span class="string">    val_id(ä»1å¼€å§‹) -&gt; ILSVRC_ID(ä»1å¼€å§‹) -&gt; WIND</span></span><br><span class="line"><span class="string">    ç»„ç»‡ç»“æ„å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="string">    /val</span></span><br><span class="line"><span class="string">    /n01440764</span></span><br><span class="line"><span class="string">        images</span></span><br><span class="line"><span class="string">    /n01443537</span></span><br><span class="line"><span class="string">        images</span></span><br><span class="line"><span class="string">        ...</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># åŠ è½½synsetã€éªŒè¯é›†çœŸå€¼å’ŒéªŒè¯é›†å›¾ç‰‡åˆ—è¡¨</span></span><br><span class="line">    synset = io.loadmat(os.path.join(devkit_dir, <span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;meta.mat&#x27;</span>))</span><br><span class="line">    </span><br><span class="line">    ground_truth = <span class="built_in">open</span>(os.path.join(devkit_dir, <span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;ILSVRC2012_validation_ground_truth.txt&#x27;</span>))</span><br><span class="line">    lines = ground_truth.readlines()</span><br><span class="line">    labels = [<span class="built_in">int</span>(line[:-<span class="number">1</span>]) <span class="keyword">for</span> line <span class="keyword">in</span> lines]</span><br><span class="line">    </span><br><span class="line">    root, _, filenames = <span class="built_in">next</span>(os.walk(val_dir))</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> filenames:</span><br><span class="line">        <span class="comment"># éªŒè¯é›†å›¾ç‰‡åç§° -&gt; ILSVRC ID -&gt; WIND</span></span><br><span class="line">        val_id = <span class="built_in">int</span>(filename.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>].split(<span class="string">&#x27;_&#x27;</span>)[-<span class="number">1</span>])</span><br><span class="line">        ILSVRC_ID = labels[val_id-<span class="number">1</span>]</span><br><span class="line">        WIND = synset[<span class="string">&#x27;synsets&#x27;</span>][ILSVRC_ID-<span class="number">1</span>][<span class="number">0</span>][<span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;val_id:%d, ILSVRC_ID:%d, WIND:%s&quot;</span> % (val_id, ILSVRC_ID, WIND))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç§»åŠ¨éªŒè¯é›†å›¾ç‰‡åˆ°å¯¹åº”ç±»åˆ«æ–‡ä»¶å¤¹</span></span><br><span class="line">        output_dir = os.path.join(root, WIND)</span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(output_dir):</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            os.mkdir(output_dir)</span><br><span class="line">        shutil.move(os.path.join(root, filename), os.path.join(output_dir, filename))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    move_valimg()</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œæ­¤è„šæœ¬åï¼ŒéªŒè¯é›†å›¾ç‰‡å°†è¢«ç»„ç»‡åˆ°å„è‡ªç±»åˆ«çš„æ–‡ä»¶å¤¹ä¸­ï¼Œä¾¿äºåç»­ä½¿ç”¨ã€‚</p>
<h2 id="5-ä½¿ç”¨PyTorchåŠ è½½æ•°æ®é›†"><a href="#5-ä½¿ç”¨PyTorchåŠ è½½æ•°æ®é›†" class="headerlink" title="5. ä½¿ç”¨PyTorchåŠ è½½æ•°æ®é›†"></a>5. ä½¿ç”¨PyTorchåŠ è½½æ•°æ®é›†</h2><p>å®Œæˆä¸Šè¿°å‡†å¤‡å·¥ä½œåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨PyTorchçš„<code>torchvision.datasets.ImageFolder</code>è½»æ¾åŠ è½½ImageNet-1Kæ•°æ®é›†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision.datasets <span class="keyword">as</span> datasets</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_imagenet</span>(<span class="params">root=<span class="string">&#x27;data/imagenet&#x27;</span>, train=<span class="literal">True</span>, transform=<span class="literal">None</span>, target_transform=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åŠ è½½ImageNet-1Kæ•°æ®é›†</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    å‚æ•°:</span></span><br><span class="line"><span class="string">        root: æ•°æ®é›†æ ¹ç›®å½•</span></span><br><span class="line"><span class="string">        train: æ˜¯å¦åŠ è½½è®­ç»ƒé›†</span></span><br><span class="line"><span class="string">        transform: å›¾åƒå˜æ¢</span></span><br><span class="line"><span class="string">        target_transform: æ ‡ç­¾å˜æ¢</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    è¿”å›:</span></span><br><span class="line"><span class="string">        ImageFolderæ•°æ®é›†å¯¹è±¡</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> train:</span><br><span class="line">        root = os.path.join(root, <span class="string">&#x27;train&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        root = os.path.join(root, <span class="string">&#x27;val&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> datasets.ImageFolder(root=root,</span><br><span class="line">                            transform=transform,</span><br><span class="line">                            target_transform=target_transform)</span><br></pre></td></tr></table></figure>

<h2 id="6-æ•°æ®é›†ä½¿ç”¨ç¤ºä¾‹"><a href="#6-æ•°æ®é›†ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="6. æ•°æ®é›†ä½¿ç”¨ç¤ºä¾‹"></a>6. æ•°æ®é›†ä½¿ç”¨ç¤ºä¾‹</h2><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨PyTorchåŠ è½½å¹¶é¢„å¤„ç†ImageNet-1Kæ•°æ®é›†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision.transforms <span class="keyword">as</span> transforms</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰æ•°æ®å˜æ¢</span></span><br><span class="line">train_transform = transforms.Compose([</span><br><span class="line">    transforms.RandomResizedCrop(<span class="number">224</span>),</span><br><span class="line">    transforms.RandomHorizontalFlip(),</span><br><span class="line">    transforms.ToTensor(),</span><br><span class="line">    transforms.Normalize(mean=[<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], std=[<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>])</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">val_transform = transforms.Compose([</span><br><span class="line">    transforms.Resize(<span class="number">256</span>),</span><br><span class="line">    transforms.CenterCrop(<span class="number">224</span>),</span><br><span class="line">    transforms.ToTensor(),</span><br><span class="line">    transforms.Normalize(mean=[<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], std=[<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>])</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½æ•°æ®é›†</span></span><br><span class="line">train_dataset = get_imagenet(root=<span class="string">&#x27;data/imagenet&#x27;</span>, train=<span class="literal">True</span>, transform=train_transform)</span><br><span class="line">val_dataset = get_imagenet(root=<span class="string">&#x27;data/imagenet&#x27;</span>, train=<span class="literal">False</span>, transform=val_transform)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®åŠ è½½å™¨</span></span><br><span class="line">train_loader = DataLoader(train_dataset, batch_size=<span class="number">256</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">8</span>, pin_memory=<span class="literal">True</span>)</span><br><span class="line">val_loader = DataLoader(val_dataset, batch_size=<span class="number">256</span>, shuffle=<span class="literal">False</span>, num_workers=<span class="number">8</span>, pin_memory=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨train_loaderå’Œval_loaderè¿›è¡Œæ¨¡å‹è®­ç»ƒå’ŒéªŒè¯</span></span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡æœ¬æŒ‡å—ï¼Œæ‚¨å·²ç»å­¦ä¼šäº†å¦‚ä½•ä¸‹è½½ã€å¤„ç†å’ŒåŠ è½½ImageNet-1Kæ•°æ®é›†ã€‚è¿™ä¸ªæ•°æ®é›†æ˜¯è®¡ç®—æœºè§†è§‰ç ”ç©¶å’Œåº”ç”¨çš„é‡è¦èµ„æºï¼ŒæŒæ¡å…¶ä½¿ç”¨æ–¹æ³•å°†æœ‰åŠ©äºæ‚¨å¼€å±•æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒä¸è¯„ä¼°å·¥ä½œã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2024/06/14/i3%E4%B8%8Edolphin%E6%96%87%E4%BB%B6%E5%85%B3%E8%81%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/14/i3%E4%B8%8Edolphin%E6%96%87%E4%BB%B6%E5%85%B3%E8%81%94/" class="post-title-link" itemprop="url">i3ä¸dolphinæ–‡ä»¶å…³è”</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2024-06-14 10:29:58" itemprop="dateCreated datePublished" datetime="2024-06-14T10:29:58+08:00">2024-06-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-19 16:59:12" itemprop="dateModified" datetime="2025-03-19T16:59:12+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="i3ä¸Dolphinæ–‡ä»¶å…³è”é—®é¢˜è§£å†³æ–¹æ¡ˆ"><a href="#i3ä¸Dolphinæ–‡ä»¶å…³è”é—®é¢˜è§£å†³æ–¹æ¡ˆ" class="headerlink" title="i3ä¸Dolphinæ–‡ä»¶å…³è”é—®é¢˜è§£å†³æ–¹æ¡ˆ"></a>i3ä¸Dolphinæ–‡ä»¶å…³è”é—®é¢˜è§£å†³æ–¹æ¡ˆ</h1><h2 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h2><p>åœ¨æ–°ç‰ˆæœ¬çš„KDE5ç¯å¢ƒä¸‹ï¼Œå½“ä½¿ç”¨i3çª—å£ç®¡ç†å™¨æ—¶ï¼ŒDolphinæ–‡ä»¶ç®¡ç†å™¨æ— æ³•æ­£ç¡®å¤„ç†æ–‡ä»¶å…³è”ã€‚è¿™æ„å‘³ç€å½“ä½ å°è¯•æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œå¯èƒ½æ— æ³•ä½¿ç”¨é»˜è®¤åº”ç”¨ç¨‹åºæˆ–å³é”®èœå•ä¸­çš„é€‰é¡¹æ— æ³•æ­£å¸¸å·¥ä½œã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h3 id="æ–¹æ¡ˆä¸€ï¼šé™çº§KService5ï¼ˆæ¨èæ–¹æ³•ï¼‰"><a href="#æ–¹æ¡ˆä¸€ï¼šé™çº§KService5ï¼ˆæ¨èæ–¹æ³•ï¼‰" class="headerlink" title="æ–¹æ¡ˆä¸€ï¼šé™çº§KService5ï¼ˆæ¨èæ–¹æ³•ï¼‰"></a>æ–¹æ¡ˆä¸€ï¼šé™çº§KService5ï¼ˆæ¨èæ–¹æ³•ï¼‰</h3><p>è¿™æ˜¯è§£å†³é—®é¢˜çš„æœ€ä½³æ–¹æ³•ï¼Œé€šè¿‡ä¸´æ—¶é™çº§KService5ç»„ä»¶å¹¶è¿›è¡Œé…ç½®ä¿®æ”¹æ¥ä¿®å¤æ–‡ä»¶å…³è”é—®é¢˜ï¼š</p>
<ol>
<li>å®‰è£…<code>downgrade</code>é™çº§å·¥å…·ï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰</li>
<li>å°†<code>kservice5</code>é™çº§åˆ°ç‰ˆæœ¬<code>5.115.0-1</code></li>
<li><strong>é‡è¦</strong>ï¼šé™çº§è¿‡ç¨‹ä¸­ä¸è¦é€‰æ‹©å¿½ç•¥<code>kservice5</code>çš„æœªæ¥å‡çº§</li>
<li>é™çº§å®Œæˆåï¼Œå°†é…ç½®æ–‡ä»¶<code>applications.menu</code>ä»ç³»ç»Ÿç›®å½•å¤åˆ¶åˆ°ç”¨æˆ·ç›®å½•ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /etc/xdg/menus/applications.menu ~/.config/menus/</span><br></pre></td></tr></table></figure></li>
<li>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œå¯ä»¥é‡æ–°å‡çº§<code>kservice5</code>åˆ°æœ€æ–°ç‰ˆæœ¬</li>
</ol>
<p>è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯åªéœ€ä¸´æ—¶é™çº§ï¼Œç„¶åå¯ä»¥æ¢å¤åˆ°æœ€æ–°ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¿æŒæ–‡ä»¶å…³è”åŠŸèƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<h3 id="æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨é…ç½®èœå•æ–‡ä»¶ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰"><a href="#æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨é…ç½®èœå•æ–‡ä»¶ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰" class="headerlink" title="æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨é…ç½®èœå•æ–‡ä»¶ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰"></a>æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨é…ç½®èœå•æ–‡ä»¶ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰</h3><p>å¦‚æœæ–¹æ¡ˆä¸€æ— æ³•è§£å†³é—®é¢˜ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li><p>ä»KDE Plasmaé¡¹ç›®ä»“åº“ä¸‹è½½<code>plasma-applications.menu</code>æ–‡ä»¶ï¼š<br><a target="_blank" rel="noopener" href="https://github.com/KDE/plasma-workspace/blob/master/menu/desktop/plasma-applications.menu">plasma-applications.menu</a></p>
</li>
<li><p>å°†ä¸‹è½½çš„æ–‡ä»¶å¤åˆ¶åˆ°ä»¥ä¸‹ä¸¤ä¸ªä½ç½®ï¼Œå¹¶é‡å‘½åä¸º<code>applications.menu</code>ï¼š</p>
<ul>
<li>ç”¨æˆ·é…ç½®ç›®å½•ï¼š<code>~/.config/menus/</code></li>
<li>ç³»ç»Ÿé…ç½®ç›®å½•ï¼š<code>/etc/xdg/menus/</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> plasma-applications.menu ~/.config/menus/applications.menu</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> plasma-applications.menu /etc/xdg/menus/applications.menu</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="éªŒè¯è§£å†³æ–¹æ¡ˆ"><a href="#éªŒè¯è§£å†³æ–¹æ¡ˆ" class="headerlink" title="éªŒè¯è§£å†³æ–¹æ¡ˆ"></a>éªŒè¯è§£å†³æ–¹æ¡ˆ</h2><p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œé‡æ–°å¯åŠ¨i3çª—å£ç®¡ç†å™¨æˆ–æ³¨é”€åé‡æ–°ç™»å½•ï¼Œç„¶åæ‰“å¼€Dolphinæ–‡ä»¶ç®¡ç†å™¨æµ‹è¯•æ–‡ä»¶å…³è”æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://forum.endeavouros.com/t/i3-issue-with-dolphin-and-file-associations-in-i3/54405/4">EndeavourOSè®ºå›è®¨è®º</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/KDE/plasma-workspace">KDE Plasmaå·¥ä½œåŒºä»“åº“</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2024/03/04/CMake%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/03/04/CMake%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">CMakeä½¿ç”¨æŒ‡å—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2024-03-04 12:44:15" itemprop="dateCreated datePublished" datetime="2024-03-04T12:44:15+08:00">2024-03-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-19 15:17:13" itemprop="dateModified" datetime="2025-03-19T15:17:13+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>CMakeæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„æ„å»ºå·¥å…·ï¼Œå¯ä»¥ç”¨ç®€å•çš„è¯­å¥æ¥æè¿°æ‰€æœ‰å¹³å°çš„å®‰è£…ï¼ˆç¼–è¯‘è¿‡ç¨‹ï¼‰ã€‚æœ¬æ–‡å°†ä»åŸºç¡€åˆ°è¿›é˜¶ï¼Œè¯¦ç»†ä»‹ç»CMakeçš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
</blockquote>
<h2 id="ä¸€ã€åŸºç¡€ç¼–è¯‘"><a href="#ä¸€ã€åŸºç¡€ç¼–è¯‘" class="headerlink" title="ä¸€ã€åŸºç¡€ç¼–è¯‘"></a>ä¸€ã€åŸºç¡€ç¼–è¯‘</h2><h3 id="1-é¡¹ç›®ä¸æ–‡ä»¶ç»“æ„"><a href="#1-é¡¹ç›®ä¸æ–‡ä»¶ç»“æ„" class="headerlink" title="1. é¡¹ç›®ä¸æ–‡ä»¶ç»“æ„"></a>1. é¡¹ç›®ä¸æ–‡ä»¶ç»“æ„</h3><p><strong>é¡¹ç›®ç»“æ„</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ build</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt</span><br><span class="line">â”œâ”€â”€ main.c</span><br><span class="line">â”œâ”€â”€ testFunc.c</span><br><span class="line">â””â”€â”€ testFunc.h</span><br></pre></td></tr></table></figure>

<p><strong>main.c</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;testFunc.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">func</span>(<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>testFunc.c</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;testFunc.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;data is %d\n&quot;</span>, data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>testFunc.h</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _TEST_FUNC_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _TEST_FUNC_H_</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">int</span> data)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p><strong>CMakeLists.txt</strong></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CMakeæœ€ä½ç‰ˆæœ¬å·è¦æ±‚</span></span><br><span class="line"><span class="keyword">cmake_minimum_required</span> (VERSION <span class="number">2.8</span>)</span><br><span class="line"><span class="comment"># é¡¹ç›®ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">project</span> (demo)</span><br><span class="line"><span class="comment"># æŒ‡å®šç”Ÿæˆç›®æ ‡</span></span><br><span class="line"><span class="keyword">add_executable</span>(main main.c testFunc.c)</span><br></pre></td></tr></table></figure>

<h3 id="2-ç¼–è¯‘ä¸è¿è¡Œ"><a href="#2-ç¼–è¯‘ä¸è¿è¡Œ" class="headerlink" title="2. ç¼–è¯‘ä¸è¿è¡Œ"></a>2. ç¼–è¯‘ä¸è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> build &amp;&amp; cmake ../</span><br><span class="line">make -j8</span><br><span class="line">./main</span><br></pre></td></tr></table></figure>

<h3 id="3-æ€è€ƒä¸æ”¹è¿›"><a href="#3-æ€è€ƒä¸æ”¹è¿›" class="headerlink" title="3. æ€è€ƒä¸æ”¹è¿›"></a>3. æ€è€ƒä¸æ”¹è¿›</h3><ol>
<li><p><strong>æºæ–‡ä»¶ç®¡ç†é—®é¢˜</strong>ï¼šå¦‚æœåœ¨åŒä¸€ç›®å½•ä¸‹æœ‰å¤šä¸ªæºæ–‡ä»¶ï¼Œéœ€è¦åœ¨<code>add_executable</code>é‡ŒæŠŠæ‰€æœ‰æºæ–‡ä»¶éƒ½æ·»åŠ è¿›å»ï¼Œè¿™ä¸å¤Ÿä¼˜é›…ã€‚</p>
<ul>
<li>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨<code>aux_source_directory(dir var)</code>æŠŠæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰çš„æºæ–‡ä»¶å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­</li>
<li>å‚æ•°è¯´æ˜ï¼šç¬¬ä¸€ä¸ªå‚æ•°<code>dir</code>æ˜¯æŒ‡å®šç›®å½•ï¼Œç¬¬äºŒä¸ªå‚æ•°<code>var</code>æ˜¯ç”¨äºå­˜æ”¾æºæ–‡ä»¶åˆ—è¡¨çš„å˜é‡å</li>
</ul>
</li>
<li><p><strong>å¤´æ–‡ä»¶è·¯å¾„é—®é¢˜</strong>ï¼šå½“ç¨‹åºæ–‡ä»¶è¾ƒå¤šæ—¶ï¼Œæˆ‘ä»¬ä¼šè¿›è¡Œåˆ†ç±»ç®¡ç†ï¼ŒæŠŠä»£ç æ ¹æ®åŠŸèƒ½æ”¾åœ¨ä¸åŒçš„ç›®å½•ä¸‹ã€‚è¿™æ—¶å¤´æ–‡ä»¶å®šä½éœ€è¦ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼Œå¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;xxxxxx/testFunc.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;xxxxxx/testFunc1.h&quot;</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨<code>include_directories</code>æ–¹æ³•æ·»åŠ å¤šä¸ªæŒ‡å®šå¤´æ–‡ä»¶çš„æœç´¢è·¯å¾„ï¼Œè·¯å¾„ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”</li>
</ul>
</li>
<li><p><strong>æºä»£ç ç»„ç»‡é—®é¢˜</strong>ï¼šæºä»£ç éšæ„æ”¾ç½®ä¸å¤Ÿä¼˜é›…</p>
<ul>
<li>è§£å†³æ–¹æ¡ˆï¼šç»Ÿä¸€æ”¾å…¥srcæ–‡ä»¶å¤¹åä½¿ç”¨<code>add_subdirectory(source_dir [binary_dir] [EXCLUDE_FROM_ALL])</code>è®¾ç½®æºä»£ç ç›®å½•</li>
<li>å‚æ•°è¯´æ˜ï¼š<ul>
<li><code>source_dir</code>ï¼šæŒ‡å®šåŒ…å«CMakeLists.txtå’Œä»£ç æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</li>
<li><code>binary_dir</code>ï¼šäºŒè¿›åˆ¶ä»£ç ç›®å½•ï¼Œæ‰§è¡Œåçš„è¾“å‡ºæ–‡ä»¶å°†ä¼šå­˜æ”¾åœ¨æ­¤å¤„</li>
<li><code>EXCLUDE_FROM_ALL</code>ï¼šå¯é€‰æ ‡è®°ï¼Œè¡¨ç¤ºæ–°å¢åŠ çš„å­ç›®å½•å°†ä¼šæ’é™¤åœ¨ALLç›®å½•ä¹‹å¤–</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="äºŒã€è¿›é˜¶ç¼–è¯‘"><a href="#äºŒã€è¿›é˜¶ç¼–è¯‘" class="headerlink" title="äºŒã€è¿›é˜¶ç¼–è¯‘"></a>äºŒã€è¿›é˜¶ç¼–è¯‘</h2><h3 id="1-é¡¹ç›®ä¸æ–‡ä»¶ç»“æ„-1"><a href="#1-é¡¹ç›®ä¸æ–‡ä»¶ç»“æ„-1" class="headerlink" title="1. é¡¹ç›®ä¸æ–‡ä»¶ç»“æ„"></a>1. é¡¹ç›®ä¸æ–‡ä»¶ç»“æ„</h3><p><strong>é¡¹ç›®ç»“æ„</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ bin</span><br><span class="line">â”œâ”€â”€ build</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt</span><br><span class="line">â”œâ”€â”€ include1</span><br><span class="line">|   â””â”€â”€ testFunc1.h</span><br><span class="line">â”œâ”€â”€ include2</span><br><span class="line">|   â””â”€â”€ testFunc2.h</span><br><span class="line">â””â”€â”€ src</span><br><span class="line">    â”œâ”€â”€ main.c</span><br><span class="line">    â”œâ”€â”€ testFunc1.c</span><br><span class="line">    â””â”€â”€ testFunc2.c</span><br></pre></td></tr></table></figure>

<p><strong>main.c</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;testFunc.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">func</span>(<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>testFunc.c</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;testFunc.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;data is %d\n&quot;</span>, data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>testFunc.h</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _TEST_FUNC_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _TEST_FUNC_H_</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">int</span> data)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p><strong>CMakeLists.txt</strong></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span> (VERSION <span class="number">2.8</span>)</span><br><span class="line"><span class="keyword">project</span> (demo)</span><br><span class="line"><span class="comment"># è®¾ç½®æºä»£ç ç›®å½•</span></span><br><span class="line"><span class="keyword">add_subdirectory</span> (src)</span><br></pre></td></tr></table></figure>

<p>è¿™é‡ŒæŒ‡å®šsrcç›®å½•ä¸‹å­˜æ”¾äº†æºæ–‡ä»¶ï¼Œå½“æ‰§è¡Œcmakeæ—¶ï¼Œå°±ä¼šè¿›å…¥srcç›®å½•ä¸‹å»æ‰¾srcç›®å½•ä¸‹çš„CMakeLists.txtï¼Œæ‰€ä»¥åœ¨srcç›®å½•ä¸‹ä¹Ÿå»ºç«‹ä¸€ä¸ªCMakeLists.txtï¼Œå†…å®¹å¦‚ä¸‹:</p>
<p><strong>src&#x2F;CMakeLists.txt</strong></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†å½“å‰src/CMakeLists.txtåŒæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶æ·»åŠ è¿›SRC_LISTå˜é‡</span></span><br><span class="line"><span class="keyword">aux_source_directory</span> (. SRC_LIST)</span><br><span class="line"><span class="comment"># æ·»åŠ å¤´æ–‡ä»¶ç›®å½•</span></span><br><span class="line"><span class="keyword">include_directories</span> (../include1 ../include2)</span><br><span class="line"><span class="comment"># æŒ‡å®šç”Ÿæˆç›®æ ‡</span></span><br><span class="line"><span class="keyword">add_executable</span> (main <span class="variable">$&#123;SRC_LIST&#125;</span>)</span><br><span class="line"><span class="comment"># è®¾å®šç›®æ ‡äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„å­˜æ”¾ä½ç½®ï¼Œå…¶ä¸­PROJECT_SOURCE_DIRä¸ºå·¥ç¨‹æ ¹ç›®å½•</span></span><br><span class="line"><span class="keyword">set</span> (EXECUTABLE_OUTPUT_PATH <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/bin)</span><br></pre></td></tr></table></figure>

<h3 id="2-ç¼–è¯‘ä¸è¿è¡Œ-1"><a href="#2-ç¼–è¯‘ä¸è¿è¡Œ-1" class="headerlink" title="2. ç¼–è¯‘ä¸è¿è¡Œ"></a>2. ç¼–è¯‘ä¸è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake ..</span><br><span class="line">make -j8</span><br><span class="line"><span class="built_in">cd</span> ../bin</span><br><span class="line">./main</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·Makefileä¼šåœ¨buildç›®å½•ä¸‹ç”Ÿæˆï¼ŒäºŒè¿›åˆ¶ç¨‹åºä¼šåœ¨binç›®å½•ä¸‹ç”Ÿæˆã€‚</p>
<h3 id="3-æ€è€ƒä¸æ”¹è¿›-1"><a href="#3-æ€è€ƒä¸æ”¹è¿›-1" class="headerlink" title="3. æ€è€ƒä¸æ”¹è¿›"></a>3. æ€è€ƒä¸æ”¹è¿›</h3><p>å¯ä»¥åªä½¿ç”¨ä¸€ä¸ªCMakeLists.txtï¼ŒæŠŠæœ€å¤–å±‚çš„CMakeLists.txtå†…å®¹æ”¹æˆå¦‚ä¸‹ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span> (VERSION <span class="number">2.8</span>)</span><br><span class="line"><span class="keyword">project</span> (demo)</span><br><span class="line"><span class="keyword">set</span> (EXECUTABLE_OUTPUT_PATH <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/bin)</span><br><span class="line"><span class="keyword">aux_source_directory</span> (src SRC_LIST)</span><br><span class="line"><span class="keyword">include_directories</span> (include1 include2)</span><br><span class="line"><span class="keyword">add_executable</span> (main <span class="variable">$&#123;SRC_LIST&#125;</span>)</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶è¿˜éœ€è¦æŠŠsrcç›®å½•ä¸‹çš„CMakeLists.txtåˆ é™¤å³å¯ã€‚</p>
<h2 id="ä¸‰ã€ç”Ÿæˆåº“æ–‡ä»¶"><a href="#ä¸‰ã€ç”Ÿæˆåº“æ–‡ä»¶" class="headerlink" title="ä¸‰ã€ç”Ÿæˆåº“æ–‡ä»¶"></a>ä¸‰ã€ç”Ÿæˆåº“æ–‡ä»¶</h2><h3 id="1-é¡¹ç›®ç»“æ„"><a href="#1-é¡¹ç›®ç»“æ„" class="headerlink" title="1. é¡¹ç›®ç»“æ„"></a>1. é¡¹ç›®ç»“æ„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ bin</span><br><span class="line">â”œâ”€â”€ build</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt</span><br><span class="line">â”œâ”€â”€ include1</span><br><span class="line">|   â””â”€â”€ testFunc1.h</span><br><span class="line">â”œâ”€â”€ include2</span><br><span class="line">|   â””â”€â”€ testFunc2.h</span><br><span class="line">â”œâ”€â”€ lib</span><br><span class="line">â””â”€â”€ src</span><br><span class="line">    â”œâ”€â”€ main.c</span><br><span class="line">    â”œâ”€â”€ testFunc1.c</span><br><span class="line">    â””â”€â”€ testFunc2.c</span><br></pre></td></tr></table></figure>

<p><strong>CMakeLists.txt</strong></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span> (VERSION <span class="number">3.5</span>)</span><br><span class="line"><span class="keyword">project</span> (demo)</span><br><span class="line"><span class="keyword">set</span> (SRC_LIST1 <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/src/testFunc1.c)</span><br><span class="line"><span class="keyword">set</span> (SRC_LIST2 <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/src/testFunc2.c)</span><br><span class="line"><span class="keyword">include_directories</span> (../include1 ../include2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add_library: ç”ŸæˆåŠ¨æ€åº“æˆ–é™æ€åº“</span></span><br><span class="line"><span class="comment"># ç¬¬1ä¸ªå‚æ•°æŒ‡å®šåº“çš„åå­—</span></span><br><span class="line"><span class="comment"># ç¬¬2ä¸ªå‚æ•°å†³å®šæ˜¯åŠ¨æ€è¿˜æ˜¯é™æ€ï¼Œå¦‚æœæ²¡æœ‰å°±é»˜è®¤é™æ€</span></span><br><span class="line"><span class="comment"># ç¬¬3ä¸ªå‚æ•°æŒ‡å®šç”Ÿæˆåº“çš„æºæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">add_library</span> (testFunc_shared1 SHARED <span class="variable">$&#123;SRC_LIST1&#125;</span>)</span><br><span class="line"><span class="keyword">add_library</span> (testFunc_shared2 SHARED <span class="variable">$&#123;SRC_LIST2&#125;</span>)</span><br><span class="line"><span class="keyword">add_library</span> (testFunc_static1 STATIC <span class="variable">$&#123;SRC_LIST1&#125;</span>)</span><br><span class="line"><span class="keyword">add_library</span> (testFunc_static2 STATIC <span class="variable">$&#123;SRC_LIST2&#125;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set_target_properties: è®¾ç½®æœ€ç»ˆç”Ÿæˆçš„åº“çš„åç§°</span></span><br><span class="line"><span class="comment"># è¿˜æœ‰å…¶å®ƒåŠŸèƒ½ï¼Œå¦‚è®¾ç½®åº“çš„ç‰ˆæœ¬å·ç­‰</span></span><br><span class="line"><span class="keyword">set_target_properties</span> (testFunc_shared1 PROPERTIES OUTPUT_NAME <span class="string">&quot;testFunc1&quot;</span>)</span><br><span class="line"><span class="keyword">set_target_properties</span> (testFunc_shared2 PROPERTIES OUTPUT_NAME <span class="string">&quot;testFunc2&quot;</span>)</span><br><span class="line"><span class="keyword">set_target_properties</span> (testFunc_static1 PROPERTIES OUTPUT_NAME <span class="string">&quot;testFunc1&quot;</span>)</span><br><span class="line"><span class="keyword">set_target_properties</span> (testFunc_static2 PROPERTIES OUTPUT_NAME <span class="string">&quot;testFunc2&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># LIBRARY_OUTPUT_PATH: åº“æ–‡ä»¶çš„é»˜è®¤è¾“å‡ºè·¯å¾„</span></span><br><span class="line"><span class="comment"># è¿™é‡Œè®¾ç½®ä¸ºå·¥ç¨‹ç›®å½•ä¸‹çš„libç›®å½•</span></span><br><span class="line"><span class="keyword">set</span> (LIBRARY_OUTPUT_PATH <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/lib)</span><br></pre></td></tr></table></figure>

<h3 id="2-è¿è¡ŒæŸ¥çœ‹ç¼–è¯‘å¥½çš„åº“æ–‡ä»¶"><a href="#2-è¿è¡ŒæŸ¥çœ‹ç¼–è¯‘å¥½çš„åº“æ–‡ä»¶" class="headerlink" title="2. è¿è¡ŒæŸ¥çœ‹ç¼–è¯‘å¥½çš„åº“æ–‡ä»¶"></a>2. è¿è¡ŒæŸ¥çœ‹ç¼–è¯‘å¥½çš„åº“æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> build/</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line"><span class="built_in">cd</span> ../lib/</span><br><span class="line"><span class="built_in">ls</span></span><br></pre></td></tr></table></figure>

<p>æœ€åå°†ä¼šåœ¨libæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆ<code>libtestFunc1.a</code>ã€<code>libtestFunc1.so</code>ã€<code>libtestFunc2.a</code>å’Œ<code>libtestFunc2.so</code>ã€‚</p>
<h2 id="å››ã€é“¾æ¥åº“æ–‡ä»¶"><a href="#å››ã€é“¾æ¥åº“æ–‡ä»¶" class="headerlink" title="å››ã€é“¾æ¥åº“æ–‡ä»¶"></a>å››ã€é“¾æ¥åº“æ–‡ä»¶</h2><h3 id="1-é¡¹ç›®ç»“æ„-1"><a href="#1-é¡¹ç›®ç»“æ„-1" class="headerlink" title="1. é¡¹ç›®ç»“æ„"></a>1. é¡¹ç›®ç»“æ„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ bin</span><br><span class="line">â”œâ”€â”€ build</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt</span><br><span class="line">â”œâ”€â”€ include1</span><br><span class="line">|   â””â”€â”€ testFunc1.h</span><br><span class="line">â”œâ”€â”€ include2</span><br><span class="line">|   â””â”€â”€ testFunc2.h</span><br><span class="line">â”œâ”€â”€ lib</span><br><span class="line">|   â”œâ”€â”€ libtestFunc1.a</span><br><span class="line">|   â”œâ”€â”€ libtestFunc1.so</span><br><span class="line">|   â”œâ”€â”€ libtestFunc2.a</span><br><span class="line">|   â””â”€â”€ libtestFunc2.so</span><br><span class="line">â””â”€â”€ src</span><br><span class="line">    â”œâ”€â”€ main.c</span><br><span class="line">    â”œâ”€â”€ testFunc1.c</span><br><span class="line">    â””â”€â”€ testFunc2.c</span><br></pre></td></tr></table></figure>

<p><strong>main.c</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;testFunc.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">func</span>(<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>CMakeLists.txt</strong></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span> (VERSION <span class="number">3.5</span>)</span><br><span class="line"><span class="keyword">project</span> (demo)</span><br><span class="line"><span class="keyword">set</span> (EXECUTABLE_OUTPUT_PATH <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/bin)</span><br><span class="line"><span class="keyword">set</span> (SRC_LIST <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/src/main.c)</span><br><span class="line"><span class="keyword">include_directories</span> (<span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/testFunc/inc)</span><br><span class="line"></span><br><span class="line"><span class="comment"># find_library: åœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æŒ‡å®šåº“ï¼Œå¹¶æŠŠåº“çš„ç»å¯¹è·¯å¾„å­˜æ”¾åˆ°å˜é‡é‡Œ</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å˜é‡åç§°</span></span><br><span class="line"><span class="comment"># ç¬¬äºŒä¸ªå‚æ•°æ˜¯åº“åç§°</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯HINTS</span></span><br><span class="line"><span class="comment"># ç¬¬4ä¸ªå‚æ•°æ˜¯è·¯å¾„</span></span><br><span class="line"><span class="keyword">find_library</span>(TESTFUNC_LIB testFunc HINTS <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/testFunc/lib)</span><br><span class="line"><span class="keyword">add_executable</span> (main <span class="variable">$&#123;SRC_LIST&#125;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># target_link_libraries: æŠŠç›®æ ‡æ–‡ä»¶ä¸åº“æ–‡ä»¶è¿›è¡Œé“¾æ¥</span></span><br><span class="line"><span class="keyword">target_link_libraries</span> (main <span class="variable">$&#123;TESTFUNC_LIB&#125;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="2-ç¼–è¯‘ä¸è¿è¡Œ-2"><a href="#2-ç¼–è¯‘ä¸è¿è¡Œ-2" class="headerlink" title="2. ç¼–è¯‘ä¸è¿è¡Œ"></a>2. ç¼–è¯‘ä¸è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> build/</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line"><span class="built_in">cd</span> ../bin/</span><br><span class="line">./main</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>CMakeæ˜¯ä¸€ä¸ªå¼ºå¤§çš„è·¨å¹³å°æ„å»ºå·¥å…·ï¼Œé€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œæˆ‘ä»¬æŒæ¡äº†ï¼š</p>
<ol>
<li>åŸºç¡€çš„CMakeé¡¹ç›®æ„å»ºæ–¹æ³•</li>
<li>å¦‚ä½•ç»„ç»‡å’Œç®¡ç†å¤šæ–‡ä»¶é¡¹ç›®</li>
<li>å¦‚ä½•ç”Ÿæˆå’Œä½¿ç”¨é™æ€&#x2F;åŠ¨æ€åº“</li>
<li>å¦‚ä½•é“¾æ¥å’Œä½¿ç”¨å¤–éƒ¨åº“</li>
</ol>
<p>é€šè¿‡åˆç†ä½¿ç”¨CMakeï¼Œæˆ‘ä»¬å¯ä»¥å¤§å¤§ç®€åŒ–C&#x2F;C++é¡¹ç›®çš„æ„å»ºè¿‡ç¨‹ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2024/01/01/LazyVim%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/01/LazyVim%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">LazyVimä½¿ç”¨æŒ‡å—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2024-01-01T00:00:00+08:00">2024-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-20 15:27:24" itemprop="dateModified" datetime="2025-03-20T15:27:24+08:00">2025-03-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>LazyVimæ˜¯ä¸€ä¸ªåŸºäºNeovimçš„ç°ä»£åŒ–é…ç½®æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¼˜é›…çš„ç•Œé¢å’Œå¼ºå¤§çš„åŠŸèƒ½ã€‚æœ¬æ–‡å°†å¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹LazyVimï¼Œä»åŸºç¡€æ“ä½œåˆ°é«˜çº§æŠ€å·§ã€‚</p>
<h2 id="åŸºç¡€æ“ä½œ"><a href="#åŸºç¡€æ“ä½œ" class="headerlink" title="åŸºç¡€æ“ä½œ"></a>åŸºç¡€æ“ä½œ</h2><h3 id="æ¨¡å¼åˆ‡æ¢"><a href="#æ¨¡å¼åˆ‡æ¢" class="headerlink" title="æ¨¡å¼åˆ‡æ¢"></a>æ¨¡å¼åˆ‡æ¢</h3><ul>
<li><code>i</code> - è¿›å…¥æ’å…¥æ¨¡å¼</li>
<li><code>&lt;ESC&gt;</code> æˆ– <code>jk</code> - è¿”å›æ™®é€šæ¨¡å¼</li>
<li><code>v</code> - è¿›å…¥å¯è§†æ¨¡å¼</li>
<li><code>&lt;Space&gt;</code> - è§¦å‘which-keyèœå•ï¼Œæ˜¾ç¤ºå¯ç”¨çš„å¿«æ·é”®</li>
</ul>
<h3 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="headerlink" title="åŸºæœ¬å‘½ä»¤"></a>åŸºæœ¬å‘½ä»¤</h3><ul>
<li><code>:q</code> - é€€å‡ºå½“å‰çª—å£</li>
<li><code>:qa</code> - é€€å‡ºæ‰€æœ‰çª—å£</li>
<li><code>:w</code> - ä¿å­˜æ–‡ä»¶</li>
<li><code>:wq</code> æˆ– <code>:x</code> - ä¿å­˜å¹¶é€€å‡º</li>
</ul>
<h2 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h2><h3 id="æ–‡ä»¶å¯¼èˆª"><a href="#æ–‡ä»¶å¯¼èˆª" class="headerlink" title="æ–‡ä»¶å¯¼èˆª"></a>æ–‡ä»¶å¯¼èˆª</h3><ul>
<li><code>&lt;Space&gt;ff</code> - æŸ¥æ‰¾æ–‡ä»¶</li>
<li><code>&lt;Space&gt;fr</code> - æœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶</li>
<li><code>&lt;Space&gt;fg</code> - å®æ—¶grepæœç´¢</li>
<li><code>&lt;Space&gt;fb</code> - æ‰“å¼€ç¼“å†²åŒºåˆ—è¡¨</li>
<li><code>&lt;Space&gt;/</code> - åœ¨å½“å‰ç¼“å†²åŒºä¸­æœç´¢</li>
</ul>
<h3 id="æ–‡ä»¶æ ‘æ“ä½œ"><a href="#æ–‡ä»¶æ ‘æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ ‘æ“ä½œ"></a>æ–‡ä»¶æ ‘æ“ä½œ</h3><ul>
<li><code>&lt;Space&gt;e</code> - æ‰“å¼€&#x2F;å…³é—­æ–‡ä»¶æ ‘</li>
<li><code>a</code> - åœ¨æ–‡ä»¶æ ‘ä¸­æ–°å»ºæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹</li>
<li><code>d</code> - åœ¨æ–‡ä»¶æ ‘ä¸­åˆ é™¤æ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹</li>
<li><code>r</code> - åœ¨æ–‡ä»¶æ ‘ä¸­é‡å‘½åæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹</li>
</ul>
<h2 id="ç¼–è¾‘æŠ€å·§"><a href="#ç¼–è¾‘æŠ€å·§" class="headerlink" title="ç¼–è¾‘æŠ€å·§"></a>ç¼–è¾‘æŠ€å·§</h2><h3 id="å¿«é€Ÿç§»åŠ¨"><a href="#å¿«é€Ÿç§»åŠ¨" class="headerlink" title="å¿«é€Ÿç§»åŠ¨"></a>å¿«é€Ÿç§»åŠ¨</h3><ul>
<li><code>gg/G</code> - è·³è½¬åˆ°æ–‡ä»¶å¼€å¤´&#x2F;ç»“å°¾</li>
<li><code>H/M/L</code> - è·³è½¬åˆ°å±å¹•é¡¶éƒ¨&#x2F;ä¸­é—´&#x2F;åº•éƒ¨</li>
<li><code>&lt;C-d&gt;/&lt;C-u&gt;</code> - å‘ä¸‹&#x2F;å‘ä¸Šæ»šåŠ¨åŠé¡µ</li>
<li><code>&lt;C-f&gt;/&lt;C-b&gt;</code> - å‘ä¸‹&#x2F;å‘ä¸Šæ»šåŠ¨æ•´é¡µ</li>
<li><code>zz</code>è®©å…‰æ ‡æ‰€åœ¨è¡Œå±…å±å¹•ä¸­å¤®</li>
<li><code>zt</code>è®©å…‰æ ‡æ‰€åœ¨è¡Œå±…å±å¹•æœ€ä¸Šä¸€è¡Œ t&#x3D;top</li>
<li><code>zb</code> è®©å…‰æ ‡æ‰€åœ¨è¡Œå±…å±å¹•æœ€ä¸‹ä¸€è¡Œ b&#x3D;bottom</li>
<li><code>w/e</code> -è·³è½¬ä¸€ä¸ªå•è¯å¤´&#x2F;å°¾</li>
<li><code>b/B</code>(backword)å›åˆ°ä¸Šä¸€ä¸ªå•è¯å¼€å¤´</li>
<li><code>f&#123;char&#125;</code> - è·³è½¬åˆ°å½“å‰è¡Œçš„æŒ‡å®šå­—ç¬¦,ç”¨åˆ†å·(;)&#x2F;é€—å·(,)ç»§ç»­æœç´¢è¯¥è¡Œä¸‹ä¸€ä¸ª&#x2F;ä¸Šä¸€ä¸ª,3f{char}å¯ä»¥ç§»åŠ¨åˆ°ç¬¬ä¸‰ä¸ªcharå­—ç¬¦ä¸Š</li>
<li><code>%</code> - åœ¨é…å¯¹çš„æ‹¬å·é—´è·³è½¬ï¼ŒåŒ…æ‹¬ <code>(</code>, <code>&#123;</code>, <code>[</code></li>
</ul>
<h3 id="æ–‡æœ¬ç¼–è¾‘"><a href="#æ–‡æœ¬ç¼–è¾‘" class="headerlink" title="æ–‡æœ¬ç¼–è¾‘"></a>æ–‡æœ¬ç¼–è¾‘</h3><ul>
<li><code>dd</code> - åˆ é™¤å½“å‰è¡Œ</li>
<li><code>yy</code> - å¤åˆ¶å½“å‰è¡Œ</li>
<li><code>p/P</code> - åœ¨å…‰æ ‡å&#x2F;å‰ç²˜è´´</li>
<li><code>u</code> - æ’¤é”€æ“ä½œ</li>
<li><code>&lt;C-r&gt;</code> - é‡åšæ“ä½œ</li>
<li><code>dw</code>åˆ é™¤å•è¯,<code>x</code>åˆ é™¤å­—ç¬¦</li>
<li><code>dt)</code>åˆ é™¤å³è¾¹åˆ°<code>)</code>ä¸ºæ­¢çš„æ‰€æœ‰å­—ç¬¦ï¼Œå…¶ä¸­<code>)</code>å¯ä»¥ä¸ºä»»æ„å­—ç¬¦</li>
<li><code>r</code>(replace)å¯ä»¥æ›¿æ¢ä¸€ä¸ªå­—ç¬¦</li>
<li><code>s</code>(substitute)æ›¿æ¢å¹¶è¿›å…¥æ’å…¥æ¨¡å¼</li>
<li><code>c</code>(change)é…åˆæ–‡æœ¬å¯¹è±¡å¿«é€Ÿä¿®æ”¹,ä¾‹å¦‚<code>caw</code>å…ˆå›åˆ°å½“å‰å•è¯å…‰æ ‡é¦–å­—ç¬¦å¹¶åˆ é™¤å•è¯å¹¶è¿›å…¥æ’å…¥æ¨¡å¼,<code>cw</code>ä»å½“å‰å…‰æ ‡åˆ é™¤åˆ°å•è¯ç»“æŸå¹¶è¿›å…¥æ’å…¥æ¨¡å¼,<code>ct)</code>åˆ é™¤åˆ°æ‹¬å·å¹¶è¿›å…¥æ’å…¥æ¨¡å¼,å…¶ä¸­<code>)</code>å¯ä»¥ä¸ºä»»æ„å­—ç¬¦</li>
<li>ä½¿ç”¨<code>/</code>æˆ–è€…<code>?</code>è¿›è¡Œå‰å‘æˆ–è€…åå‘æœç´¢</li>
<li>ä½¿ç”¨<code>n/N</code>è·³è½¬åˆ°ä¸‹ä¸€ä¸ªæˆ–è€…ä¸Šä¸€ä¸ªåŒ¹é…</li>
<li>ä½¿ç”¨<code>\*</code>æˆ–è€…<code>#</code>è¿›è¡Œå½“å‰å•è¯çš„å‰å‘æˆ–è€…åå‘åŒ¹é…</li>
</ul>
<h2 id="LSPåŠŸèƒ½"><a href="#LSPåŠŸèƒ½" class="headerlink" title="LSPåŠŸèƒ½"></a>LSPåŠŸèƒ½</h2><h3 id="ä»£ç å¯¼èˆª"><a href="#ä»£ç å¯¼èˆª" class="headerlink" title="ä»£ç å¯¼èˆª"></a>ä»£ç å¯¼èˆª</h3><ul>
<li><code>gd</code> - è·³è½¬åˆ°å®šä¹‰</li>
<li><code>gr</code> - æŸ¥çœ‹å¼•ç”¨</li>
<li><code>K</code> - æ˜¾ç¤ºæ‚¬æµ®æ–‡æ¡£</li>
<li><code>&lt;Space&gt;ca</code> - ä»£ç æ“ä½œ</li>
<li><code>&lt;Space&gt;cr</code> - é‡å‘½åç¬¦å·</li>
</ul>
<h3 id="ä»£ç è¯Šæ–­"><a href="#ä»£ç è¯Šæ–­" class="headerlink" title="ä»£ç è¯Šæ–­"></a>ä»£ç è¯Šæ–­</h3><ul>
<li><code>]d/[d</code> - ä¸‹ä¸€ä¸ª&#x2F;ä¸Šä¸€ä¸ªè¯Šæ–­</li>
<li><code>&lt;Space&gt;cd</code> - æ‰“å¼€è¯Šæ–­çª—å£</li>
<li><code>gl</code> - æ˜¾ç¤ºå½“å‰è¡Œè¯Šæ–­</li>
</ul>
<h2 id="çª—å£ç®¡ç†"><a href="#çª—å£ç®¡ç†" class="headerlink" title="çª—å£ç®¡ç†"></a>çª—å£ç®¡ç†</h2><h3 id="åˆ†å±æ“ä½œ"><a href="#åˆ†å±æ“ä½œ" class="headerlink" title="åˆ†å±æ“ä½œ"></a>åˆ†å±æ“ä½œ</h3><ul>
<li><code>&lt;C-w&gt;v</code> - å‚ç›´åˆ†å±</li>
<li><code>&lt;C-w&gt;s</code> - æ°´å¹³åˆ†å±</li>
<li><code>&lt;C-w&gt;h/j/k/l</code> - åœ¨çª—å£é—´ç§»åŠ¨</li>
<li><code>&lt;C-w&gt;q</code> - å…³é—­å½“å‰çª—å£</li>
</ul>
<h3 id="æ ‡ç­¾é¡µ"><a href="#æ ‡ç­¾é¡µ" class="headerlink" title="æ ‡ç­¾é¡µ"></a>æ ‡ç­¾é¡µ</h3><ul>
<li><code>&lt;Space&gt;bb</code> - åˆ‡æ¢ç¼“å†²åŒº</li>
<li><code>&lt;Space&gt;bd</code> - åˆ é™¤å½“å‰ç¼“å†²åŒº</li>
<li><code>H/L</code> - åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ª&#x2F;ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µ</li>
</ul>
<h2 id="ç»ˆç«¯é›†æˆ"><a href="#ç»ˆç«¯é›†æˆ" class="headerlink" title="ç»ˆç«¯é›†æˆ"></a>ç»ˆç«¯é›†æˆ</h2><ul>
<li><code>&lt;Space&gt;ft</code> - æ‰“å¼€æµ®åŠ¨ç»ˆç«¯</li>
<li><code>&lt;Space&gt;fT</code> - æ‰“å¼€æ°´å¹³ç»ˆç«¯</li>
<li><code>&lt;Esc&gt;&lt;Esc&gt;</code> - åœ¨ç»ˆç«¯ä¸­è¿›å…¥æ™®é€šæ¨¡å¼</li>
</ul>
<h2 id="æ’ä»¶ç‰¹æ€§"><a href="#æ’ä»¶ç‰¹æ€§" class="headerlink" title="æ’ä»¶ç‰¹æ€§"></a>æ’ä»¶ç‰¹æ€§</h2><h3 id="Telescope"><a href="#Telescope" class="headerlink" title="Telescope"></a>Telescope</h3><ul>
<li><code>&lt;Space&gt;ff</code> - æ–‡ä»¶æŸ¥æ‰¾</li>
<li><code>&lt;Space&gt;fg</code> - å®æ—¶grep</li>
<li><code>&lt;Space&gt;fb</code> - æµè§ˆç¼“å†²åŒº</li>
<li><code>&lt;Space&gt;fh</code> - å¸®åŠ©æ ‡ç­¾</li>
</ul>
<h3 id="Gité›†æˆ"><a href="#Gité›†æˆ" class="headerlink" title="Gité›†æˆ"></a>Gité›†æˆ</h3><ul>
<li><code>&lt;Space&gt;gg</code> - æ‰“å¼€Lazygit</li>
<li><code>]c/[c</code> - ä¸‹ä¸€ä¸ª&#x2F;ä¸Šä¸€ä¸ªGitä¿®æ”¹</li>
<li><code>&lt;Space&gt;gj/gk</code> - ä¸‹ä¸€ä¸ª&#x2F;ä¸Šä¸€ä¸ªHunk</li>
</ul>
<h3 id="å…¶ä»–åŠŸèƒ½"><a href="#å…¶ä»–åŠŸèƒ½" class="headerlink" title="å…¶ä»–åŠŸèƒ½"></a>å…¶ä»–åŠŸèƒ½</h3><ul>
<li><code>gcc</code> - æ³¨é‡Š&#x2F;å–æ¶ˆæ³¨é‡Šå½“å‰è¡Œ</li>
<li><code>&lt;Space&gt;mp</code> - æ‰“å¼€Markdowné¢„è§ˆ</li>
<li><code>&lt;Space&gt;z</code> - æ‰“å¼€Zenæ¨¡å¼</li>
</ul>
<h2 id="è‡ªå®šä¹‰é…ç½®"><a href="#è‡ªå®šä¹‰é…ç½®" class="headerlink" title="è‡ªå®šä¹‰é…ç½®"></a>è‡ªå®šä¹‰é…ç½®</h2><h3 id="å¸¸ç”¨è®¾ç½®"><a href="#å¸¸ç”¨è®¾ç½®" class="headerlink" title="å¸¸ç”¨è®¾ç½®"></a>å¸¸ç”¨è®¾ç½®</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åœ¨ ~/.config/nvim/lua/config/keymaps.lua ä¸­æ·»åŠ è‡ªå®šä¹‰å¿«æ·é”®</span></span><br><span class="line">vim.keymap.set(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;h&quot;</span>, <span class="string">&quot;:nohl&lt;CR&gt;&quot;</span>, &#123; desc = <span class="string">&quot;Clear highlights&quot;</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åœ¨ ~/.config/nvim/lua/config/options.lua ä¸­ä¿®æ”¹é€‰é¡¹</span></span><br><span class="line">vim.opt.relativenumber = <span class="literal">true</span></span><br><span class="line">vim.opt.<span class="built_in">wrap</span> = <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒèµ„æº"><a href="#å‚è€ƒèµ„æº" class="headerlink" title="å‚è€ƒèµ„æº"></a>å‚è€ƒèµ„æº</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.lazyvim.org/">LazyVimå®˜æ–¹æ–‡æ¡£</a></li>
<li><a target="_blank" rel="noopener" href="https://neovim.io/doc/">Neovimå®˜æ–¹æ–‡æ¡£</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/rockerBOO/awesome-neovim">Awesome Neovim</a></li>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/5426.html">ç®€æ˜ VIM ç»ƒçº§æ”»ç•¥</a></li>
</ul>
<p>require(â€œconfig.lazyâ€)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2023/02/02/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8LLM%E8%BE%85%E5%8A%A9%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/02/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8LLM%E8%BE%85%E5%8A%A9%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C/" class="post-title-link" itemprop="url">å¦‚ä½•ä½¿ç”¨LLMè¾…åŠ©è®ºæ–‡å†™ä½œ</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2023-02-02 17:10:00" itemprop="dateCreated datePublished" datetime="2023-02-02T17:10:00+08:00">2023-02-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-19 15:00:46" itemprop="dateModified" datetime="2025-03-19T15:00:46+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="LLMè¾…åŠ©è®ºæ–‡å†™ä½œæŒ‡å—"><a href="#LLMè¾…åŠ©è®ºæ–‡å†™ä½œæŒ‡å—" class="headerlink" title="LLMè¾…åŠ©è®ºæ–‡å†™ä½œæŒ‡å—"></a>LLMè¾…åŠ©è®ºæ–‡å†™ä½œæŒ‡å—</h1><p>åœ¨äººå·¥æ™ºèƒ½æ—¶ä»£ï¼Œå¤§è¯­è¨€æ¨¡å‹(LLM)å¯ä»¥ä½œä¸ºæˆ‘ä»¬å†™ä½œè®ºæ–‡çš„å¾—åŠ›åŠ©æ‰‹ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡åˆç†è®¾è®¡promptæ¥è¾…åŠ©è®ºæ–‡å†™ä½œã€‚</p>
<h2 id="ä¸€ã€è®ºæ–‡ç»“æ„è®¾è®¡"><a href="#ä¸€ã€è®ºæ–‡ç»“æ„è®¾è®¡" class="headerlink" title="ä¸€ã€è®ºæ–‡ç»“æ„è®¾è®¡"></a>ä¸€ã€è®ºæ–‡ç»“æ„è®¾è®¡</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥è®©LLMå¸®åŠ©æˆ‘ä»¬è®¾è®¡è®ºæ–‡çš„æ•´ä½“ç»“æ„ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼š</p>
<h3 id="ç¤ºä¾‹é—®é¢˜"><a href="#ç¤ºä¾‹é—®é¢˜" class="headerlink" title="ç¤ºä¾‹é—®é¢˜"></a>ç¤ºä¾‹é—®é¢˜</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¯·ä¸ºä¸€ç¯‡é¢˜ä¸º&quot;åŸºäºç”Ÿæ´»åŒ–ææ–™åœ¨å°å­¦ç§‘å­¦æ•™è‚²å®éªŒçš„è®¾è®¡æ¢è®¨&quot;çš„ç¡•å£«ç ”ç©¶ç”Ÿè®ºæ–‡è®¾è®¡ç»“æ„çº²è¦ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="å‚è€ƒç­”æ¡ˆ"><a href="#å‚è€ƒç­”æ¡ˆ" class="headerlink" title="å‚è€ƒç­”æ¡ˆ"></a>å‚è€ƒç­”æ¡ˆ</h3><p>ä¸€ç¯‡ç¡•å£«ç ”ç©¶ç”Ÿè®ºæ–‡çš„ç»“æ„çº²è¦é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
<ol>
<li><p><strong>å¼•è¨€</strong></p>
<ul>
<li>ç ”ç©¶èƒŒæ™¯å’Œæ„ä¹‰</li>
<li>ç ”ç©¶ç›®çš„</li>
<li>ç ”ç©¶é—®é¢˜</li>
<li>ç ”ç©¶æ–¹æ³•æ¦‚è¿°</li>
</ul>
</li>
<li><p><strong>æ–‡çŒ®ç»¼è¿°</strong></p>
<ul>
<li>æ ¸å¿ƒæ¦‚å¿µç•Œå®š</li>
<li>ç›¸å…³ç†è®ºåŸºç¡€</li>
<li>å›½å†…å¤–ç ”ç©¶ç°çŠ¶</li>
<li>ç ”ç©¶è¯„è¿°</li>
</ul>
</li>
<li><p><strong>ç ”ç©¶æ–¹æ³•</strong></p>
<ul>
<li>ç ”ç©¶è®¾è®¡</li>
<li>ç ”ç©¶å¯¹è±¡</li>
<li>æ•°æ®æ”¶é›†æ–¹æ³•</li>
<li>åˆ†ææ–¹æ³•</li>
</ul>
</li>
<li><p><strong>ç ”ç©¶ç»“æœ</strong></p>
<ul>
<li>æ•°æ®å‘ˆç°</li>
<li>ç»“æœåˆ†æ</li>
<li>å›¾è¡¨å±•ç¤º</li>
</ul>
</li>
<li><p><strong>è®¨è®º</strong></p>
<ul>
<li>ç»“æœè§£é‡Š</li>
<li>ç†è®ºæ„ä¹‰</li>
<li>å®è·µå¯ç¤º</li>
<li>ç ”ç©¶å±€é™</li>
</ul>
</li>
<li><p><strong>ç»“è®º</strong></p>
<ul>
<li>ä¸»è¦å‘ç°</li>
<li>ç ”ç©¶è´¡çŒ®</li>
<li>æœªæ¥å±•æœ›</li>
</ul>
</li>
<li><p><strong>å‚è€ƒæ–‡çŒ®</strong></p>
<ul>
<li>æŒ‰ç…§è§„èŒƒæ ¼å¼åˆ—å‡º</li>
</ul>
</li>
</ol>
<h2 id="äºŒã€ç« èŠ‚å†…å®¹å†™ä½œ"><a href="#äºŒã€ç« èŠ‚å†…å®¹å†™ä½œ" class="headerlink" title="äºŒã€ç« èŠ‚å†…å®¹å†™ä½œ"></a>äºŒã€ç« èŠ‚å†…å®¹å†™ä½œ</h2><p>ç¡®å®šå¥½ç»“æ„åï¼Œæˆ‘ä»¬å¯ä»¥é€ç« èŠ‚è®¾è®¡promptæ¥å®Œæˆå†™ä½œã€‚ä¸‹é¢ä»¥å¼•è¨€éƒ¨åˆ†ä¸ºä¾‹ï¼š</p>
<h3 id="å¼•è¨€å†™ä½œç¤ºä¾‹"><a href="#å¼•è¨€å†™ä½œç¤ºä¾‹" class="headerlink" title="å¼•è¨€å†™ä½œç¤ºä¾‹"></a>å¼•è¨€å†™ä½œç¤ºä¾‹</h3><h4 id="Promptè®¾è®¡"><a href="#Promptè®¾è®¡" class="headerlink" title="Promptè®¾è®¡"></a>Promptè®¾è®¡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¯·ä»¥&quot;åŸºäºç”Ÿæ´»åŒ–ææ–™åœ¨å°å­¦ç§‘å­¦æ•™è‚²å®éªŒçš„è®¾è®¡æ¢è®¨&quot;ä¸ºé¢˜ï¼Œå†™ä¸€æ®µ500å­—çš„å¼•è¨€ã€‚è¦æ±‚ï¼š</span><br><span class="line">1. è¯´æ˜ç ”ç©¶èƒŒæ™¯å’Œç°å®æ„ä¹‰</span><br><span class="line">2. æŒ‡å‡ºç°æœ‰ç ”ç©¶çš„ä¸è¶³</span><br><span class="line">3. é˜æ˜ç ”ç©¶ç›®çš„å’Œé¢„æœŸè´¡çŒ®</span><br><span class="line">4. è¯­è¨€è¦å­¦æœ¯åŒ–ã€ä¸“ä¸šåŒ–</span><br></pre></td></tr></table></figure>

<h4 id="æ‰©å†™æŠ€å·§"><a href="#æ‰©å†™æŠ€å·§" class="headerlink" title="æ‰©å†™æŠ€å·§"></a>æ‰©å†™æŠ€å·§</h4><p>å¯¹äºè¾ƒçŸ­çš„æ®µè½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰©å†™ï¼š</p>
<ol>
<li>è¡¥å……å…·ä½“æ•°æ®å’Œæ¡ˆä¾‹</li>
<li>å¢åŠ ç†è®ºæ”¯æ’‘</li>
<li>æ‹“å±•è®ºè¿°ç»´åº¦</li>
<li>åŠ å¼ºé€»è¾‘è¿è´¯æ€§</li>
</ol>
<h2 id="ä¸‰ã€è®ºæ–‡å†™ä½œæ³¨æ„äº‹é¡¹"><a href="#ä¸‰ã€è®ºæ–‡å†™ä½œæ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸‰ã€è®ºæ–‡å†™ä½œæ³¨æ„äº‹é¡¹"></a>ä¸‰ã€è®ºæ–‡å†™ä½œæ³¨æ„äº‹é¡¹</h2><ol>
<li><p><strong>æç¤ºè¯è®¾è®¡åŸåˆ™</strong></p>
<ul>
<li>æ˜ç¡®å†™ä½œç›®çš„å’Œè¦æ±‚</li>
<li>æŒ‡å®šå…·ä½“çš„å­—æ•°èŒƒå›´</li>
<li>æä¾›å¿…è¦çš„èƒŒæ™¯ä¿¡æ¯</li>
<li>è¯´æ˜è¡Œæ–‡é£æ ¼å’Œè¯­æ°”</li>
</ul>
</li>
<li><p><strong>å†…å®¹ä¼˜åŒ–å»ºè®®</strong></p>
<ul>
<li>ä¿æŒé€»è¾‘æ€§å’Œè¿è´¯æ€§</li>
<li>æ³¨æ„å­¦æœ¯ç”¨è¯­è§„èŒƒ</li>
<li>é€‚å½“å¼•ç”¨ç›¸å…³ç ”ç©¶</li>
<li>çªå‡ºåˆ›æ–°ç‚¹å’Œè´¡çŒ®</li>
</ul>
</li>
<li><p><strong>å¸¸è§é—®é¢˜é¿å…</strong></p>
<ul>
<li>é¿å…è¿‡äºå£è¯­åŒ–è¡¨è¾¾</li>
<li>é¿å…é€»è¾‘è·³è·ƒ</li>
<li>é¿å…è§‚ç‚¹é‡å¤</li>
<li>é¿å…è®ºè¿°ç©ºæ³›</li>
</ul>
</li>
</ol>
<h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>åˆç†åˆ©ç”¨LLMå¯ä»¥æ˜¾è‘—æé«˜è®ºæ–‡å†™ä½œæ•ˆç‡ï¼Œä½†è¦æ³¨æ„ï¼š</p>
<ol>
<li>LLMæ˜¯è¾…åŠ©å·¥å…·ï¼Œéœ€è¦äººå·¥å®¡æ ¸å’Œä¿®æ”¹</li>
<li>ä¿æŒå­¦æœ¯è¯šä¿¡ï¼Œä¸è¿‡åº¦ä¾èµ–AI</li>
<li>æŒç»­ä¼˜åŒ–promptä»¥è·å¾—æ›´å¥½çš„è¾“å‡º</li>
<li>ç»“åˆä¸“ä¸šçŸ¥è¯†å¯¹å†…å®¹è¿›è¡ŒæŠŠå…³</li>
</ol>
<p>å¸Œæœ›æœ¬æ–‡çš„promptè®¾è®¡æ–¹æ³•å’Œå†™ä½œå»ºè®®èƒ½å¤Ÿå¸®åŠ©å¤§å®¶æ›´å¥½åœ°å®Œæˆè®ºæ–‡å†™ä½œä»»åŠ¡ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/11/29/%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/11/29/%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">Linuxç³»ç»Ÿå¼€æœºè‡ªå¯åŠ¨è„šæœ¬é…ç½®è¯¦è§£</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-11-29 14:15:05" itemprop="dateCreated datePublished" datetime="2022-11-29T14:15:05+08:00">2022-11-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-19 11:14:51" itemprop="dateModified" datetime="2025-03-19T11:14:51+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œä¸€äº›è„šæœ¬æˆ–å‘½ä»¤ï¼Œæ¯”å¦‚å¯åŠ¨ç‰¹å®šçš„æœåŠ¡ã€æŒ‚è½½å­˜å‚¨è®¾å¤‡ã€è®¾ç½®ç³»ç»Ÿå‚æ•°ç­‰ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨ç°ä»£Linuxç³»ç»Ÿï¼ˆå¦‚Archã€CentOS 7ã€Ubuntu 24.04ç­‰ï¼‰ä¸­é…ç½®å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ã€‚</p>
<h2 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><p>æˆ‘ä»¬å°†é€šè¿‡åˆ›å»ºsystemdæœåŠ¡å•å…ƒæ¥å®ç°å¼€æœºè‡ªå¯åŠ¨ã€‚è¿™ç§æ–¹å¼æ¯”ä¼ ç»Ÿçš„<code>/etc/rc.d/rc.local</code>æ–¹å¼æ›´åŠ è§„èŒƒå’Œå¯é ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ”¯æŒä¾èµ–ç®¡ç†</li>
<li>å¯ä»¥æ–¹ä¾¿åœ°æ§åˆ¶å¯åŠ¨é¡ºåº</li>
<li>æä¾›æ›´å¥½çš„æ—¥å¿—è®°å½•å’Œé”™è¯¯å¤„ç†</li>
<li>æ”¯æŒæœåŠ¡çŠ¶æ€ç›‘æ§</li>
</ul>
<h2 id="å…·ä½“æ­¥éª¤"><a href="#å…·ä½“æ­¥éª¤" class="headerlink" title="å…·ä½“æ­¥éª¤"></a>å…·ä½“æ­¥éª¤</h2><h3 id="1-åˆ›å»ºsystemdæœåŠ¡å•å…ƒæ–‡ä»¶"><a href="#1-åˆ›å»ºsystemdæœåŠ¡å•å…ƒæ–‡ä»¶" class="headerlink" title="1. åˆ›å»ºsystemdæœåŠ¡å•å…ƒæ–‡ä»¶"></a>1. åˆ›å»ºsystemdæœåŠ¡å•å…ƒæ–‡ä»¶</h3><p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªsystemdæœåŠ¡å•å…ƒæ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nvim /usr/lib/systemd/system/rclocal.service</span><br></pre></td></tr></table></figure>

<p>å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=/etc/rc.local Compatibility</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=forking</span><br><span class="line"><span class="attr">ExecStart</span>=/etc/rc.local start</span><br><span class="line"><span class="comment"># ExecStart=/usr/bin/su -c &#x27;/etc/user.local start&#x27; ç”¨æˆ·å # è‹¥è¦ä½¿ç”¨ç‰¹å®šç”¨æˆ·è¿è¡Œè„šæœ¬</span></span><br><span class="line"><span class="attr">TimeoutSec</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">StandardOutput</span>=tty</span><br><span class="line"><span class="attr">RemainAfterExit</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attr">SysVStartPriority</span>=<span class="number">99</span></span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure>

<p>é…ç½®è¯´æ˜ï¼š</p>
<ul>
<li><code>Type=forking</code>ï¼šè¡¨ç¤ºæœåŠ¡è¿›ç¨‹å°†ä¼šåˆ›å»ºå­è¿›ç¨‹ï¼Œçˆ¶è¿›ç¨‹é€€å‡ºåæœåŠ¡ç»§ç»­è¿è¡Œ</li>
<li><code>ExecStart</code>ï¼šæŒ‡å®šè¦æ‰§è¡Œçš„è„šæœ¬</li>
<li><code>RemainAfterExit=yes</code>ï¼šè¡¨ç¤ºå³ä½¿æœåŠ¡è¿›ç¨‹é€€å‡ºï¼ŒæœåŠ¡ä¹Ÿè¢«è§†ä¸ºæ´»åŠ¨çŠ¶æ€</li>
<li><code>SysVStartPriority=99</code>ï¼šè®¾ç½®å¯åŠ¨ä¼˜å…ˆçº§</li>
</ul>
<h3 id="2-åˆ›å»ºå¯åŠ¨è„šæœ¬æ–‡ä»¶"><a href="#2-åˆ›å»ºå¯åŠ¨è„šæœ¬æ–‡ä»¶" class="headerlink" title="2. åˆ›å»ºå¯åŠ¨è„šæœ¬æ–‡ä»¶"></a>2. åˆ›å»ºå¯åŠ¨è„šæœ¬æ–‡ä»¶</h3><p>åˆ›å»º<code>/etc/rc.local</code>æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nvim /etc/rc.local</span><br></pre></td></tr></table></figure>

<p>å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># /etc/rc.local</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> -d /etc/rc.local.d; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">for</span> rcscript <span class="keyword">in</span> /etc/rc.local.d/*.sh; <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">test</span> -r <span class="string">&quot;<span class="variable">$&#123;rcscript&#125;</span>&quot;</span> &amp;&amp; sh <span class="variable">$&#123;rcscript&#125;</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">unset</span> rcscript</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªè„šæœ¬ä¼šéå†<code>/etc/rc.local.d</code>ç›®å½•ä¸‹çš„æ‰€æœ‰<code>.sh</code>è„šæœ¬å¹¶æ‰§è¡Œå®ƒä»¬ã€‚</p>
<h3 id="3-è®¾ç½®æ‰§è¡Œæƒé™"><a href="#3-è®¾ç½®æ‰§è¡Œæƒé™" class="headerlink" title="3. è®¾ç½®æ‰§è¡Œæƒé™"></a>3. è®¾ç½®æ‰§è¡Œæƒé™</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> a+x /etc/rc.local</span><br></pre></td></tr></table></figure>

<h3 id="4-åˆ›å»ºè„šæœ¬ç›®å½•"><a href="#4-åˆ›å»ºè„šæœ¬ç›®å½•" class="headerlink" title="4. åˆ›å»ºè„šæœ¬ç›®å½•"></a>4. åˆ›å»ºè„šæœ¬ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> /etc/rc.local.d</span><br></pre></td></tr></table></figure>

<h3 id="5-å¯åŠ¨æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯"><a href="#5-å¯åŠ¨æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯" class="headerlink" title="5. å¯åŠ¨æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯"></a>5. å¯åŠ¨æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl start rclocal</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> rclocal</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><p>è¦æ·»åŠ å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ï¼Œåªéœ€è¦åœ¨<code>/etc/rc.local.d</code>ç›®å½•ä¸‹åˆ›å»ºä»¥<code>.sh</code>ç»“å°¾çš„è„šæœ¬æ–‡ä»¶å³å¯ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªç¤ºä¾‹è„šæœ¬</span></span><br><span class="line"><span class="built_in">sudo</span> vim /etc/rc.local.d/example.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ‰§è¡Œæƒé™</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> +x /etc/rc.local.d/example.sh</span><br></pre></td></tr></table></figure>

<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol>
<li>ç¡®ä¿è„šæœ¬å…·æœ‰å¯æ‰§è¡Œæƒé™</li>
<li>è„šæœ¬ä¸­æœ€å¥½ä½¿ç”¨ç»å¯¹è·¯å¾„</li>
<li>æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•</li>
</ol>
<h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><ol>
<li><p><strong>æœåŠ¡æ— æ³•å¯åŠ¨</strong></p>
<ul>
<li>æ£€æŸ¥è„šæœ¬æƒé™</li>
<li>æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ï¼š<code>journalctl -xe</code></li>
<li>ç¡®è®¤è„šæœ¬è·¯å¾„æ­£ç¡®</li>
</ul>
</li>
<li><p><strong>è„šæœ¬æ‰§è¡Œé¡ºåº</strong></p>
<ul>
<li>è„šæœ¬æŒ‰ç…§æ–‡ä»¶åå­—æ¯é¡ºåºæ‰§è¡Œ</li>
<li>å¯ä»¥é€šè¿‡æ–‡ä»¶åå‰ç¼€ï¼ˆå¦‚<code>01_</code>ã€<code>02_</code>ç­‰ï¼‰æ§åˆ¶æ‰§è¡Œé¡ºåº</li>
</ul>
</li>
<li><p><strong>è°ƒè¯•å»ºè®®</strong></p>
<ul>
<li>åœ¨è„šæœ¬ä¸­æ·»åŠ æ—¥å¿—è¾“å‡º</li>
<li>ä½¿ç”¨<code>systemctl status rclocal</code>æŸ¥çœ‹æœåŠ¡çŠ¶æ€</li>
<li>æµ‹è¯•æ—¶å¯ä»¥æ‰‹åŠ¨æ‰§è¡Œè„šæœ¬éªŒè¯</li>
</ul>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/09/01/Wayland%E4%B8%8BOBS%E5%B1%8F%E5%B9%95%E6%8D%95%E6%8D%89%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/01/Wayland%E4%B8%8BOBS%E5%B1%8F%E5%B9%95%E6%8D%95%E6%8D%89%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">Waylandä¸‹OBSå±å¹•æ•æ‰é…ç½®æŒ‡å—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-09-01 15:36:01" itemprop="dateCreated datePublished" datetime="2022-09-01T15:36:01+08:00">2022-09-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-20 15:35:02" itemprop="dateModified" datetime="2025-03-20T15:35:02+08:00">2025-03-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>åœ¨Wayfireçª—å£ç®¡ç†å™¨ä¸‹é…ç½®OBSï¼ˆOpen Broadcaster Softwareï¼‰è¿›è¡Œå±å¹•æ•æ‰éœ€è¦ä¸€äº›ç‰¹æ®Šçš„è®¾ç½®ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨Wayfireç¯å¢ƒä¸‹æ­£ç¡®é…ç½®å’Œä½¿ç”¨OBSè¿›è¡Œçª—å£æ•æ‰å’Œå±å¹•å½•åˆ¶ã€‚</p>
<h2 id="å®‰è£…å¿…è¦ç»„ä»¶"><a href="#å®‰è£…å¿…è¦ç»„ä»¶" class="headerlink" title="å®‰è£…å¿…è¦ç»„ä»¶"></a>å®‰è£…å¿…è¦ç»„ä»¶</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…OBSå’Œç›¸å…³çš„ä¾èµ–ç»„ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…OBS Studio</span></span><br><span class="line">paru -S obs-studio</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…Waylandæ”¯æŒç»„ä»¶</span></span><br><span class="line">paru -S xdg-desktop-portal-wlr xdg-desktop-portal</span><br></pre></td></tr></table></figure>

<h2 id="çª—å£æ•æ‰é…ç½®"><a href="#çª—å£æ•æ‰é…ç½®" class="headerlink" title="çª—å£æ•æ‰é…ç½®"></a>çª—å£æ•æ‰é…ç½®</h2><p>åœ¨Wayfireä¸‹ï¼Œä¸ºäº†å®ç°çª—å£æ•æ‰åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡XWaylandæ¥å¯åŠ¨OBSã€‚è¿™æ˜¯å› ä¸ºåŸç”ŸWaylandä¸‹çš„çª—å£æ•æ‰å¯èƒ½ä¼šå­˜åœ¨ä¸€äº›é™åˆ¶ã€‚</p>
<h3 id="æ–¹æ³•ä¸€ï¼šç›´æ¥å¯åŠ¨"><a href="#æ–¹æ³•ä¸€ï¼šç›´æ¥å¯åŠ¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç›´æ¥å¯åŠ¨"></a>æ–¹æ³•ä¸€ï¼šç›´æ¥å¯åŠ¨</h3><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é€šè¿‡XWaylandå¯åŠ¨OBSï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QT_QPA_PLATFORM=xcb obs</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•äºŒï¼šåˆ›å»ºåˆ«åï¼ˆæ¨èï¼‰"><a href="#æ–¹æ³•äºŒï¼šåˆ›å»ºåˆ«åï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼šåˆ›å»ºåˆ«åï¼ˆæ¨èï¼‰"></a>æ–¹æ³•äºŒï¼šåˆ›å»ºåˆ«åï¼ˆæ¨èï¼‰</h3><p>ä¸ºäº†ä½¿ç”¨æ›´æ–¹ä¾¿ï¼Œå»ºè®®åœ¨ä½ çš„shellé…ç½®æ–‡ä»¶ï¼ˆå¦‚.zshrcï¼‰ä¸­æ·»åŠ ä¸€ä¸ªåˆ«åï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> xobs=<span class="string">&#x27;QT_QPA_PLATFORM=xcb obs&#x27;</span></span><br></pre></td></tr></table></figure>

<p>æ·»åŠ åï¼Œä½ åªéœ€è¦è¾“å…¥<code>xobs</code>å°±å¯ä»¥å¯åŠ¨OBSäº†ã€‚</p>
<h2 id="å…¨å±æ•æ‰é…ç½®"><a href="#å…¨å±æ•æ‰é…ç½®" class="headerlink" title="å…¨å±æ•æ‰é…ç½®"></a>å…¨å±æ•æ‰é…ç½®</h2><p>å¯¹äºå…¨å±æ•æ‰ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<ol>
<li><p><strong>ä½¿ç”¨Pipewireï¼ˆKDE Waylandï¼‰</strong>ï¼š<br>è™½ç„¶åœ¨KDE Waylandç¯å¢ƒä¸‹ï¼Œå®‰è£…PipewireåOBSå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½†åœ¨Wayfireç¯å¢ƒä¸­å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ã€‚</p>
</li>
<li><p><strong>ä½¿ç”¨wlrobsï¼ˆæ¨èï¼‰</strong>ï¼š<br>ç”±äºWayfireçš„ç‰¹æ®Šæ€§ï¼Œå»ºè®®ä½¿ç”¨wlrobsä½œä¸ºæ›¿ä»£æ–¹æ¡ˆï¼š</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S wlrobs-hg</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥åœ¨OBSçš„æ¥æºä¸­é€‰æ‹©â€Wayland Output Captureâ€æ¥è¿›è¡Œå±å¹•æ•æ‰ã€‚</p>
<h2 id="è™šæ‹Ÿæ‘„åƒå¤´é…ç½®"><a href="#è™šæ‹Ÿæ‘„åƒå¤´é…ç½®" class="headerlink" title="è™šæ‹Ÿæ‘„åƒå¤´é…ç½®"></a>è™šæ‹Ÿæ‘„åƒå¤´é…ç½®</h2><p>é™¤äº†å±å¹•æ•æ‰ï¼ŒOBSè¿˜æä¾›äº†è™šæ‹Ÿæ‘„åƒå¤´åŠŸèƒ½ï¼Œå¯ä»¥å°†OBSçš„è¾“å‡ºä½œä¸ºæ‘„åƒå¤´ä¿¡å·æä¾›ç»™å…¶ä»–åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚</p>
<h3 id="å®‰è£…è™šæ‹Ÿæ‘„åƒå¤´ç»„ä»¶"><a href="#å®‰è£…è™šæ‹Ÿæ‘„åƒå¤´ç»„ä»¶" class="headerlink" title="å®‰è£…è™šæ‹Ÿæ‘„åƒå¤´ç»„ä»¶"></a>å®‰è£…è™šæ‹Ÿæ‘„åƒå¤´ç»„ä»¶</h3><p>åœ¨Arch Linuxä¸‹ï¼Œéœ€è¦å®‰è£…ä»¥ä¸‹ç»„ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…OBSè™šæ‹Ÿæ‘„åƒå¤´æ¨¡å—</span></span><br><span class="line">paru -S obs-v4l2sink</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…v4l2loopbackå†…æ ¸æ¨¡å—</span></span><br><span class="line">paru -S v4l2loopback-dkms</span><br></pre></td></tr></table></figure>

<h3 id="åŠ è½½è™šæ‹Ÿæ‘„åƒå¤´æ¨¡å—"><a href="#åŠ è½½è™šæ‹Ÿæ‘„åƒå¤´æ¨¡å—" class="headerlink" title="åŠ è½½è™šæ‹Ÿæ‘„åƒå¤´æ¨¡å—"></a>åŠ è½½è™šæ‹Ÿæ‘„åƒå¤´æ¨¡å—</h3><p>å®‰è£…å®Œæˆåï¼Œéœ€è¦åŠ è½½v4l2loopbackå†…æ ¸æ¨¡å—ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½æ¨¡å—</span></span><br><span class="line"><span class="built_in">sudo</span> modprobe v4l2loopback</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¼€æœºè‡ªåŠ¨åŠ è½½</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;v4l2loopback&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/modules-load.d/v4l2loopback.conf</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨OBSä¸­å¯ç”¨è™šæ‹Ÿæ‘„åƒå¤´"><a href="#åœ¨OBSä¸­å¯ç”¨è™šæ‹Ÿæ‘„åƒå¤´" class="headerlink" title="åœ¨OBSä¸­å¯ç”¨è™šæ‹Ÿæ‘„åƒå¤´"></a>åœ¨OBSä¸­å¯ç”¨è™šæ‹Ÿæ‘„åƒå¤´</h3><ol>
<li>æ‰“å¼€OBS Studio</li>
<li>åœ¨é¡¶éƒ¨èœå•æ ä¸­ç‚¹å‡»ã€Œå·¥å…·ã€-&gt;ã€Œè™šæ‹Ÿæ‘„åƒå¤´ã€</li>
<li>ç‚¹å‡»ã€Œå¼€å§‹è™šæ‹Ÿæ‘„åƒå¤´ã€</li>
</ol>
<h3 id="åœ¨å…¶ä»–åº”ç”¨ä¸­ä½¿ç”¨"><a href="#åœ¨å…¶ä»–åº”ç”¨ä¸­ä½¿ç”¨" class="headerlink" title="åœ¨å…¶ä»–åº”ç”¨ä¸­ä½¿ç”¨"></a>åœ¨å…¶ä»–åº”ç”¨ä¸­ä½¿ç”¨</h3><p>å¯ç”¨è™šæ‹Ÿæ‘„åƒå¤´åï¼Œä½ å¯ä»¥åœ¨æ”¯æŒæ‘„åƒå¤´è¾“å…¥çš„åº”ç”¨ç¨‹åºï¼ˆå¦‚æµè§ˆå™¨ã€Zoomã€Teamsç­‰ï¼‰ä¸­é€‰æ‹©â€OBS Virtual Cameraâ€ä½œä¸ºè§†é¢‘è¾“å…¥æºã€‚</p>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>ç¡®ä¿åœ¨ä½¿ç”¨è™šæ‹Ÿæ‘„åƒå¤´ä¹‹å‰å·²ç»åœ¨OBSä¸­è®¾ç½®å¥½äº†æƒ³è¦è¾“å‡ºçš„åœºæ™¯</li>
<li>æŸäº›åº”ç”¨å¯èƒ½éœ€è¦é‡å¯æ‰èƒ½è¯†åˆ«åˆ°è™šæ‹Ÿæ‘„åƒå¤´</li>
<li>å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œè¯·ç¡®ä¿å½“å‰ç”¨æˆ·å±äºvideoç»„ï¼š<code>sudo usermod -aG video $USER</code></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/06/21/%E5%88%B6%E4%BD%9C%E4%BE%BF%E6%90%BA%E5%BC%8FWindows%E5%92%8CLinux%E7%B3%BB%E7%BB%9F%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="ä¸€ä¸ªä¸ªäººèµ„æ–™è®°å½•çš„å°åœ°æ–¹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abelçš„å°å¤©åœ°">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/06/21/%E5%88%B6%E4%BD%9C%E4%BE%BF%E6%90%BA%E5%BC%8FWindows%E5%92%8CLinux%E7%B3%BB%E7%BB%9F%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">åˆ¶ä½œä¾¿æºå¼Windowså’ŒLinuxç³»ç»ŸæŒ‡å—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-06-21 10:35:28" itemprop="dateCreated datePublished" datetime="2022-06-21T10:35:28+08:00">2022-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-20 16:19:45" itemprop="dateModified" datetime="2025-03-20T16:19:45+08:00">2025-03-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ä¾¿æºå¼Windowså’ŒLinuxç³»ç»Ÿåˆ¶ä½œæŒ‡å—"><a href="#ä¾¿æºå¼Windowså’ŒLinuxç³»ç»Ÿåˆ¶ä½œæŒ‡å—" class="headerlink" title="ä¾¿æºå¼Windowså’ŒLinuxç³»ç»Ÿåˆ¶ä½œæŒ‡å—"></a>ä¾¿æºå¼Windowså’ŒLinuxç³»ç»Ÿåˆ¶ä½œæŒ‡å—</h1><p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨Ventoyå·¥å…·åˆ¶ä½œå¯éšèº«æºå¸¦çš„Windowså’ŒLinuxç³»ç»Ÿï¼Œè®©ä½ èƒ½å¤Ÿåœ¨ä»»ä½•ç”µè„‘ä¸Šè¿è¡Œè‡ªå·±çš„æ“ä½œç³»ç»Ÿç¯å¢ƒã€‚</p>
<h2 id="å‡†å¤‡å·¥ä½œï¼šåˆ¶ä½œVentoyå¯åŠ¨ç›˜"><a href="#å‡†å¤‡å·¥ä½œï¼šåˆ¶ä½œVentoyå¯åŠ¨ç›˜" class="headerlink" title="å‡†å¤‡å·¥ä½œï¼šåˆ¶ä½œVentoyå¯åŠ¨ç›˜"></a>å‡†å¤‡å·¥ä½œï¼šåˆ¶ä½œVentoyå¯åŠ¨ç›˜</h2><ol>
<li>å‡†å¤‡ä¸€ä¸ªé«˜é€ŸUç›˜æˆ–ç§»åŠ¨å›ºæ€ç¡¬ç›˜ï¼ˆæ¨èä½¿ç”¨å›ºæ€è®¾å¤‡ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼‰</li>
<li>ä¸‹è½½å¹¶å®‰è£…Ventoyï¼Œå°†å‡†å¤‡å¥½çš„å­˜å‚¨è®¾å¤‡åˆ¶ä½œæˆVentoyå¯åŠ¨ç›˜</li>
<li>å°†Ventoyå¯åŠ¨ç›˜æ ¼å¼åŒ–ä¸ºNTFSæ ¼å¼</li>
<li>å®‰è£…VHDå¯åŠ¨æ’ä»¶ï¼š<ul>
<li>ä¸‹è½½<a target="_blank" rel="noopener" href="https://www.ventoy.net/cn/plugin_vhdboot.html">VHDå¯åŠ¨æ’ä»¶</a></li>
<li>å°†æ’ä»¶æ–‡ä»¶æ”¾ç½®åœ¨Uç›˜ç¬¬ä¸€åˆ†åŒºï¼ˆå³å­˜æ”¾ISOæ–‡ä»¶çš„åˆ†åŒºï¼‰çš„<code>ventoy</code>ç›®å½•ä¸‹</li>
<li>é…ç½®å…¨å±€æ§åˆ¶æ’ä»¶ï¼Œåœ¨<code>ventoy</code>ç›®å½•ä¸‹é…ç½®ventoy.jsonæ–‡ä»¶ï¼Œå…·ä½“çš„jsonè§£æè§<a target="_blank" rel="noopener" href="https://www.ventoy.net/cn/plugin_control.html">Ventoy å…¨å±€æ§åˆ¶æ’ä»¶</a><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;control&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_MENU_LANGUAGE&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh_CN&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_DEFAULT_MENU_MODE&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_TREE_VIEW_MENU_STYLE&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_FILT_DOT_UNDERSCORE_FILE&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_SORT_CASE_SENSITIVE&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_MAX_SEARCH_LEVEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;max&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_DEFAULT_SEARCH_ROOT&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/ISO&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span>        </span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_MENU_TIMEOUT&quot;</span><span class="punctuation">:</span> <span class="string">&quot;10&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_DEFAULT_IMAGE&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/ISO/win11.iso&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_FILE_FLT_EFI&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_DEFAULT_KBD_LAYOUT&quot;</span><span class="punctuation">:</span> <span class="string">&quot;QWERTY_USA&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_WIN11_BYPASS_CHECK&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_WIN11_BYPASS_NRO&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_SECONDARY_BOOT_MENU&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> <span class="attr">&quot;VTOY_SECONDARY_TIMEOUT&quot;</span><span class="punctuation">:</span> <span class="string">&quot;20&quot;</span> <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;theme&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;file&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/ventoy/theme/blur/theme.txt&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;gfxmode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1920x1080&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h2 id="åˆ›å»ºç³»ç»Ÿé•œåƒ"><a href="#åˆ›å»ºç³»ç»Ÿé•œåƒ" class="headerlink" title="åˆ›å»ºç³»ç»Ÿé•œåƒ"></a>åˆ›å»ºç³»ç»Ÿé•œåƒ</h2><p>æœ¬æ–‡æµ‹è¯•kvmå’Œvirtualboxè™šæ‹Ÿæœºå·¥å…·çš†å¯</p>
<ol>
<li><p>åˆ›å»ºè™šæ‹Ÿç¡¬ç›˜æ—¶çš„è®¾ç½®ï¼š</p>
<ul>
<li>é€‰æ‹©â€ä¸“å®¶æ¨¡å¼â€</li>
<li>è™šæ‹Ÿç¡¬ç›˜ç±»å‹é€‰æ‹©â€VHDâ€</li>
<li>å­˜å‚¨æ–¹å¼é€‰æ‹©â€å›ºå®šå¤§å°â€</li>
</ul>
</li>
<li><p>å¯ç”¨UEFIæ”¯æŒï¼š</p>
<ul>
<li>åœ¨å¯åŠ¨è™šæ‹Ÿæœºå‰ï¼Œè¿›å…¥è®¾ç½®</li>
<li>é€‰æ‹©â€ç³»ç»Ÿâ€ â†’ â€œæ‰©å±•ç‰¹æ€§â€</li>
<li>å‹¾é€‰â€å¯ç”¨EFIâ€</li>
</ul>
</li>
</ol>
<h2 id="Linuxç³»ç»Ÿä¾¿æºåŒ–é…ç½®"><a href="#Linuxç³»ç»Ÿä¾¿æºåŒ–é…ç½®" class="headerlink" title="Linuxç³»ç»Ÿä¾¿æºåŒ–é…ç½®"></a>Linuxç³»ç»Ÿä¾¿æºåŒ–é…ç½®</h2><h3 id="å®‰è£…Ventoy-Linuxæ’ä»¶"><a href="#å®‰è£…Ventoy-Linuxæ’ä»¶" class="headerlink" title="å®‰è£…Ventoy Linuxæ’ä»¶"></a>å®‰è£…Ventoy Linuxæ’ä»¶</h3><ol>
<li>åœ¨è™šæ‹Ÿæœºä¸­è®¿é—®<code>ventoy.net</code>å®˜ç½‘</li>
<li>å¯¼èˆªè‡³ï¼šä¸­æ–‡ â†’ æ–‡æ¡£æ‰‹å†Œ â†’ æ’ä»¶è¯´æ˜ â†’ Linux vDiskå¯åŠ¨æ’ä»¶</li>
<li>ä¸‹è½½å¹¶è§£å‹æ’ä»¶</li>
<li>ä½¿ç”¨rootæƒé™æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> sh vtoyboot.sh</span><br></pre></td></tr></table></figure>
å½“çœ‹åˆ°â€vtoyboot process successfully finishedâ€æç¤ºæ—¶è¡¨ç¤ºå®‰è£…æˆåŠŸ</li>
</ol>
<h3 id="åˆ¶ä½œLinuxToGo"><a href="#åˆ¶ä½œLinuxToGo" class="headerlink" title="åˆ¶ä½œLinuxToGo"></a>åˆ¶ä½œLinuxToGo</h3><ol>
<li>å…³é—­Linuxè™šæ‹Ÿæœº</li>
<li>æ‰¾åˆ°è™šæ‹Ÿæœºç›®å½•ä¸‹çš„<code>.vhd</code>æ–‡ä»¶</li>
<li>å°†æ–‡ä»¶é‡å‘½åï¼Œåœ¨æ–‡ä»¶ååæ·»åŠ <code>.vtoy</code>åç¼€</li>
<li>å°†é‡å‘½ååçš„æ–‡ä»¶å¤åˆ¶åˆ°Ventoyå¯åŠ¨ç›˜ä¸­</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šå½“ç³»ç»Ÿè¿›è¡Œå†…æ ¸å‡çº§åï¼Œå»ºè®®é‡æ–°æ‰§è¡Œ<code>sudo sh vtoyboot.sh</code>ä»¥ç¡®ä¿å¯åŠ¨å…¼å®¹æ€§</p>
</blockquote>
<h2 id="Windowsç³»ç»Ÿä¾¿æºåŒ–é…ç½®"><a href="#Windowsç³»ç»Ÿä¾¿æºåŒ–é…ç½®" class="headerlink" title="Windowsç³»ç»Ÿä¾¿æºåŒ–é…ç½®"></a>Windowsç³»ç»Ÿä¾¿æºåŒ–é…ç½®</h2><h3 id="åˆ¶ä½œWinToGo"><a href="#åˆ¶ä½œWinToGo" class="headerlink" title="åˆ¶ä½œWinToGo"></a>åˆ¶ä½œWinToGo</h3><ol>
<li>å…³é—­Windowsè™šæ‹Ÿæœº</li>
<li>æ‰¾åˆ°è™šæ‹Ÿæœºç›®å½•ä¸‹çš„<code>.vhd</code>æ–‡ä»¶</li>
<li>ç›´æ¥å°†æ–‡ä»¶å¤åˆ¶åˆ°Ventoyå¯åŠ¨ç›˜ä¸­å³å¯ä½¿ç”¨</li>
</ol>
<h3 id="WinToGoç³»ç»Ÿæ‰©å®¹æŒ‡å—"><a href="#WinToGoç³»ç»Ÿæ‰©å®¹æŒ‡å—" class="headerlink" title="WinToGoç³»ç»Ÿæ‰©å®¹æŒ‡å—"></a>WinToGoç³»ç»Ÿæ‰©å®¹æŒ‡å—</h3><p>å¦‚æœéœ€è¦å¢åŠ WinToGoç³»ç»Ÿçš„å­˜å‚¨ç©ºé—´ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li><p>æŸ¥çœ‹è™šæ‹Ÿç£ç›˜ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qemu-img info wtg.vhdx</span><br></pre></td></tr></table></figure>
</li>
<li><p>è½¬æ¢ä¸ºqcow2æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qemu-img convert -f vhdx -O qcow2 wtg.vhdx wtg.qcow2</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰©å±•å®¹é‡ï¼ˆä¾‹å¦‚æ‰©å±•åˆ°100Gï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qemu-img resize wtg.qcow2 100G</span><br></pre></td></tr></table></figure>
</li>
<li><p>è½¬æ¢å›vhdxæ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qemu-img convert -f qcow2 -O vhdx wtg.qcow2 wtg_expanded.vhdx</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ›´æ–°æ–‡ä»¶åï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> wtg.vhdx wtg_old.vhdx</span><br><span class="line"><span class="built_in">mv</span> wtg_expanded.vhdx wtg.vhdx</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ€åï¼Œå¯åŠ¨WinToGoç³»ç»Ÿï¼Œä½¿ç”¨Windowsçš„ç£ç›˜ç®¡ç†å·¥å…·å°†æ–°å¢çš„ç©ºé—´åˆ†é…ç»™Cç›˜</p>
</li>
</ol>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥æˆåŠŸåˆ¶ä½œå‡ºå¯éšèº«æºå¸¦çš„Windowså’ŒLinuxç³»ç»Ÿã€‚è¿™äº›ä¾¿æºå¼ç³»ç»Ÿå¯ä»¥å¸®åŠ©ä½ åœ¨ä¸åŒçš„ç”µè„‘é—´ä¿æŒä¸€è‡´çš„å·¥ä½œç¯å¢ƒï¼Œéå¸¸é€‚åˆå¼€å‘äººå‘˜æˆ–éœ€è¦ç‰¹å®šç³»ç»Ÿç¯å¢ƒçš„ç”¨æˆ·ä½¿ç”¨ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="ä¸Šä¸€é¡µ" aria-label="ä¸Šä¸€é¡µ" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" title="ä¸‹ä¸€é¡µ" aria-label="ä¸‹ä¸€é¡µ" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">abelxiaoxing</span>
  </div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
