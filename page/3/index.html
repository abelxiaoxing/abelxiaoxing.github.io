<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"abelxiaoxing.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="一个个人资料记录的小地方">
<meta property="og:type" content="website">
<meta property="og:title" content="abel的小天地">
<meta property="og:url" content="https://abelxiaoxing.github.io/page/3/index.html">
<meta property="og:site_name" content="abel的小天地">
<meta property="og:description" content="一个个人资料记录的小地方">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="abelxiaoxing">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://abelxiaoxing.github.io/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>abel的小天地</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">abel的小天地</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">abelxiaoxing</p>
  <div class="site-description" itemprop="description">一个个人资料记录的小地方</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/06/14/Linux%E4%B8%8EWindows%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abel的小天地">
      <meta itemprop="description" content="一个个人资料记录的小地方">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abel的小天地">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/06/14/Linux%E4%B8%8EWindows%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">Linux与Windows的远程连接方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-06-14 09:43:59" itemprop="dateCreated datePublished" datetime="2022-06-14T09:43:59+08:00">2022-06-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-19 17:39:25" itemprop="dateModified" datetime="2025-03-19T17:39:25+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文总结了从Linux系统连接到Windows系统的两种主要方法：远程桌面连接和SSH连接。这些方法可以帮助您在不同操作系统之间实现高效的远程访问和控制。</p>
<h2 id="一、Linux远程桌面访问Windows"><a href="#一、Linux远程桌面访问Windows" class="headerlink" title="一、Linux远程桌面访问Windows"></a>一、Linux远程桌面访问Windows</h2><h3 id="1-Windows远程桌面准备"><a href="#1-Windows远程桌面准备" class="headerlink" title="1. Windows远程桌面准备"></a>1. Windows远程桌面准备</h3><p>在Windows系统上，需要先开启远程桌面功能：</p>
<ul>
<li>打开系统属性 → 远程设置 → 勾选”允许远程连接到此计算机”</li>
<li>确保Windows防火墙已允许远程桌面连接</li>
</ul>
<h3 id="2-通过RDP协议连接"><a href="#2-通过RDP协议连接" class="headerlink" title="2. 通过RDP协议连接"></a>2. 通过RDP协议连接</h3><p>RDP（Remote Desktop Protocol）是Windows远程桌面使用的协议，Linux系统可以通过以下工具实现RDP连接：</p>
<h4 id="2-1-使用rdesktop工具"><a href="#2-1-使用rdesktop工具" class="headerlink" title="2.1 使用rdesktop工具"></a>2.1 使用rdesktop工具</h4><p>rdesktop实现了RDP协议，允许Linux系统远程登录Windows系统：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装rdesktop</span></span><br><span class="line">paru -S rdesktop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装freerdp（另一个RDP客户端实现）</span></span><br><span class="line">paru -S freerdp</span><br></pre></td></tr></table></figure>

<p>安装后可以用以下命令访问远程Windows系统：<br>rdesktop</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 参数说明：</span></span><br><span class="line"><span class="comment"># -g 1440x900：设置远程桌面分辨率为1440x900</span></span><br><span class="line"><span class="comment"># -P：使用持久位图缓存</span></span><br><span class="line"><span class="comment"># -z：启用压缩</span></span><br><span class="line"><span class="comment"># -x l：设置体验级别</span></span><br><span class="line"><span class="comment"># -r sound:off：关闭声音重定向</span></span><br><span class="line"><span class="comment"># -u windowsuser：指定Windows用户名</span></span><br><span class="line">rdesktop -g 1440x900 -P -z -x l -r sound:off -u windowsuser 192.168.31.100:22</span><br></pre></td></tr></table></figure>
<p>freerdp</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xfreerdp /v:IP_ADDRESS00 /u:windowsuser /p:password /clipboard /dynamic-resolution</span><br></pre></td></tr></table></figure>


<h4 id="2-2-使用图形前端工具KRDC"><a href="#2-2-使用图形前端工具KRDC" class="headerlink" title="2.2 使用图形前端工具KRDC"></a>2.2 使用图形前端工具KRDC</h4><p>KRDC是KDE桌面环境提供的远程桌面客户端，提供了友好的图形界面：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装KRDC</span></span><br><span class="line">paru -S krdc</span><br></pre></td></tr></table></figure>

<p>安装后可以通过图形界面轻松配置和连接到Windows远程桌面。</p>
<h2 id="二、Linux通过SSH连接Windows"><a href="#二、Linux通过SSH连接Windows" class="headerlink" title="二、Linux通过SSH连接Windows"></a>二、Linux通过SSH连接Windows</h2><h3 id="1-Windows安装并启动SSH服务"><a href="#1-Windows安装并启动SSH服务" class="headerlink" title="1. Windows安装并启动SSH服务"></a>1. Windows安装并启动SSH服务</h3><p>在Windows系统上需要完成以下步骤：</p>
<ol>
<li>打开Windows设置 → 系统 → 可选功能，安装OpenSSH服务器</li>
<li>打开Windows服务管理器，将OpenSSH服务设置为”自动(延时)”启动模式，并启动服务</li>
<li>配置Windows防火墙，允许SSH连接：<ul>
<li>打开网络和Internet设置</li>
<li>选择Windows防火墙 → 高级设置</li>
<li>选择入站规则 → 新建规则</li>
<li>规则类型选择”自定义”</li>
<li>协议和端口选择TCP 22</li>
</ul>
</li>
</ol>
<h3 id="2-从Linux连接到Windows"><a href="#2-从Linux连接到Windows" class="headerlink" title="2. 从Linux连接到Windows"></a>2. 从Linux连接到Windows</h3><p>完成上述配置后，可以使用标准SSH客户端从Linux连接到Windows：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 连接到Windows SSH服务</span></span><br><span class="line">ssh username@windows_ip_address</span><br></pre></td></tr></table></figure>

<hr>
<p>通过以上方法，您可以根据不同需求选择合适的方式从Linux系统连接到Windows系统，实现远程控制和文件访问。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/04/25/%E5%B9%B3%E5%8F%B0%E7%B3%BB%E7%BB%9F%E8%BF%81%E7%A7%BB%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abel的小天地">
      <meta itemprop="description" content="一个个人资料记录的小地方">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abel的小天地">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/04/25/%E5%B9%B3%E5%8F%B0%E7%B3%BB%E7%BB%9F%E8%BF%81%E7%A7%BB%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">平台系统迁移指南</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-04-25 00:06:45" itemprop="dateCreated datePublished" datetime="2022-04-25T00:06:45+08:00">2022-04-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-19 16:04:07" itemprop="dateModified" datetime="2025-03-19T16:04:07+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="系统迁移操作指南"><a href="#系统迁移操作指南" class="headerlink" title="系统迁移操作指南"></a>系统迁移操作指南</h1><h2 id="Windows-系统迁移"><a href="#Windows-系统迁移" class="headerlink" title="Windows 系统迁移"></a>Windows 系统迁移</h2><h3 id="🛠️-准备工作"><a href="#🛠️-准备工作" class="headerlink" title="🛠️ 准备工作"></a>🛠️ 准备工作</h3><ul>
<li><strong>源系统盘</strong>：需要迁移的旧硬盘</li>
<li><strong>目标磁盘</strong>：新硬盘（容量 ≥ 源盘已用空间）</li>
<li><strong>PE启动U盘</strong>：需集成DiskGenius工具（推荐微PE工具箱）</li>
</ul>
<h3 id="📝-详细操作步骤"><a href="#📝-详细操作步骤" class="headerlink" title="📝 详细操作步骤"></a>📝 详细操作步骤</h3><ol>
<li><p><strong>制作启动盘</strong></p>
<ul>
<li>使用微PE工具箱制作启动U盘（官网：<a target="_blank" rel="noopener" href="https://www.wepe.com.cn/%EF%BC%89">https://www.wepe.com.cn/）</a></li>
</ul>
</li>
<li><p><strong>进入PE环境</strong></p>
<ul>
<li>插入U盘 → 开机时反复按<code>F12/Del/F2</code>（不同主板按键不同）</li>
<li>在BIOS中设置U盘为第一启动项 → 进入PE桌面</li>
</ul>
</li>
<li><p><strong>执行系统迁移</strong></p>
<ul>
<li>打开DiskGenius软件</li>
<li>顶部菜单选择 <strong>工具 → 系统迁移</strong></li>
<li>按向导操作：<ol>
<li>选择<strong>源磁盘</strong>（原系统盘）</li>
<li>选择<strong>目标磁盘</strong>（新硬盘）</li>
<li>调整目标分区大小（默认自动填充）</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>迁移后操作</strong></p>
<ul>
<li>重启进入BIOS → 设置新硬盘为第一启动项</li>
<li>进入系统后运行 <code>chkdsk C: /f</code> 检查磁盘完整性</li>
</ul>
</li>
</ol>
<blockquote>
<p>⚠️ 关键注意事项：</p>
<ol>
<li>目标磁盘必须为<strong>GPT格式</strong>（如原系统为UEFI启动）</li>
<li>迁移前备份重要数据（目标磁盘将被覆盖）</li>
<li>迁移完成后拔出旧硬盘测试启动</li>
</ol>
</blockquote>
<hr>
<h2 id="Linux-系统迁移"><a href="#Linux-系统迁移" class="headerlink" title="Linux 系统迁移"></a>Linux 系统迁移</h2><h3 id="🧰-准备工作"><a href="#🧰-准备工作" class="headerlink" title="🧰 准备工作"></a>🧰 准备工作</h3><ul>
<li>Live USB（推荐和迁移系统相同的系统镜像）</li>
<li>新硬盘（建议容量 ≥ 源盘已用空间）</li>
</ul>
<h3 id="🐧-操作流程"><a href="#🐧-操作流程" class="headerlink" title="🐧 操作流程"></a>🐧 操作流程</h3><h4 id="1-进入Live环境"><a href="#1-进入Live环境" class="headerlink" title="1. 进入Live环境"></a>1. 进入Live环境</h4>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk  <span class="comment"># 确认磁盘标识（假设原盘为sdb，新盘为sda）</span></span><br></pre></td></tr></table></figure>

<h4 id="2-分区操作"><a href="#2-分区操作" class="headerlink" title="2. 分区操作"></a>2. 分区操作</h4>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cfdisk /dev/sda  <span class="comment"># 创建新分区</span></span><br></pre></td></tr></table></figure>
<ul>
<li>分区方案建议：<table>
<thead>
<tr>
<th>分区</th>
<th>类型</th>
<th>建议大小</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;boot</td>
<td>EFI</td>
<td>512M</td>
</tr>
<tr>
<td>&#x2F;</td>
<td>f2fs</td>
<td>剩余空间</td>
</tr>
</tbody></table>
</li>
</ul>
<h4 id="3-格式化分区"><a href="#3-格式化分区" class="headerlink" title="3. 格式化分区"></a>3. 格式化分区</h4>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkfs.fat -F32 /dev/sda1  <span class="comment"># 格式化EFI分区</span></span><br><span class="line">mkfs.f2fs -f /dev/sda2   <span class="comment"># f2fs格式化根分区</span></span><br></pre></td></tr></table></figure>

<h4 id="4-挂载文件系统"><a href="#4-挂载文件系统" class="headerlink" title="4. 挂载文件系统"></a>4. 挂载文件系统</h4>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 挂载新分区(假设新系统在sda2,新系统的EFI分区在sda1)</span></span><br><span class="line">mount /dev/sda2 /mnt</span><br><span class="line"><span class="built_in">mkdir</span> -p /mnt/boot &amp;&amp; mount /dev/sda1 /mnt/boot</span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂载原分区（假设原系统在sdb2,原系统的根分区在sdb1）</span></span><br><span class="line"><span class="built_in">mkdir</span> /old_root &amp;&amp; mount /dev/sdb2 /old_root</span><br></pre></td></tr></table></figure>

<h4 id="5-数据迁移"><a href="#5-数据迁移" class="headerlink" title="5. 数据迁移"></a>5. 数据迁移</h4>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -avhP --exclude=&#123;<span class="string">&quot;/dev/*&quot;</span>,<span class="string">&quot;/proc/*&quot;</span>,<span class="string">&quot;/sys/*&quot;</span>,<span class="string">&quot;/tmp/*&quot;</span>&#125; /old_root/ /mnt/</span><br></pre></td></tr></table></figure>

<h4 id="6-系统配置更新"><a href="#6-系统配置更新" class="headerlink" title="6. 系统配置更新"></a>6. 系统配置更新</h4>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成新fstab</span></span><br><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br><span class="line"></span><br><span class="line"><span class="comment"># Chroot环境配置</span></span><br><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure>

<h4 id="7-引导修复"><a href="#7-引导修复" class="headerlink" title="7. 引导修复"></a>7. 引导修复</h4>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=ArchLinux</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>

<h3 id="🔍-验证检查"><a href="#🔍-验证检查" class="headerlink" title="🔍 验证检查"></a>🔍 验证检查</h3><ol>
<li>确认<code>/etc/fstab</code>中UUID与<code>blkid</code>输出一致</li>
<li>检查EFI分区是否包含引导文件</li>
<li>测试从新硬盘启动</li>
</ol>
<hr>
<h2 id="Linux-Home目录迁移方法"><a href="#Linux-Home目录迁移方法" class="headerlink" title="Linux Home目录迁移方法"></a>Linux Home目录迁移方法</h2><h3 id="🏠-迁移目的"><a href="#🏠-迁移目的" class="headerlink" title="🏠 迁移目的"></a>🏠 迁移目的</h3><p>将用户的home目录迁移到新硬盘，可以有效扩展存储空间并提高系统性能。</p>
<h3 id="📋-详细步骤"><a href="#📋-详细步骤" class="headerlink" title="📋 详细步骤"></a>📋 详细步骤</h3><h4 id="1-查看硬盘UUID"><a href="#1-查看硬盘UUID" class="headerlink" title="1. 查看硬盘UUID"></a>1. 查看硬盘UUID</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> blkid</span><br></pre></td></tr></table></figure>
<blockquote>
<p>记录新硬盘的UUID，后续配置会用到</p>
</blockquote>
<h4 id="2-开机自动挂载硬盘"><a href="#2-开机自动挂载硬盘" class="headerlink" title="2. 开机自动挂载硬盘"></a>2. 开机自动挂载硬盘</h4><p>编辑fstab文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /etc/fstab</span><br></pre></td></tr></table></figure>
<p>在文件末尾添加：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UUID=&lt;你的硬盘UUID&gt; /media &lt;你的硬盘格式，例如ext4&gt; defaults 0 0</span><br></pre></td></tr></table></figure>

<h4 id="3-临时挂载硬盘"><a href="#3-临时挂载硬盘" class="headerlink" title="3. 临时挂载硬盘"></a>3. 临时挂载硬盘</h4><p>如果不想立即重启，可以先手动挂载：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> mount /dev/sdb1 /media</span><br></pre></td></tr></table></figure>

<h4 id="4-创建软链接"><a href="#4-创建软链接" class="headerlink" title="4. 创建软链接"></a>4. 创建软链接</h4><p>将新硬盘上的用户目录链接到home目录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -s /media/abelxiaoxing /home/abelxiaoxing</span><br></pre></td></tr></table></figure>

<h4 id="5-创建用户并指定用户目录"><a href="#5-创建用户并指定用户目录" class="headerlink" title="5. 创建用户并指定用户目录"></a>5. 创建用户并指定用户目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> useradd -d /home/abelxiaoxing abelxiaoxing</span><br></pre></td></tr></table></figure>

<h4 id="6-修改目录所属权"><a href="#6-修改目录所属权" class="headerlink" title="6. 修改目录所属权"></a>6. 修改目录所属权</h4><p>确保用户对自己的目录有完全控制权：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">chown</span> -R abelxiaoxing:abelxiaoxing /media/abelxiaoxing</span><br></pre></td></tr></table></figure>

<blockquote>
<p>⚠️ <strong>注意事项</strong>：</p>
<ul>
<li>迁移前备份重要数据</li>
<li>确保新硬盘有足够空间</li>
<li>迁移后测试用户登录和文件访问权限</li>
</ul>
</blockquote>
<hr>
<h2 id="通用注意事项"><a href="#通用注意事项" class="headerlink" title="通用注意事项"></a>通用注意事项</h2><ol>
<li><p><strong>数据备份</strong>：建议使用<code>dd</code>命令创建完整磁盘镜像</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/sdX of=/path/to/backup.img bs=4M status=progress</span><br></pre></td></tr></table></figure></li>
<li><p><strong>迁移工具替代方案</strong>：</p>
<ul>
<li>Clonezilla（跨平台克隆工具）</li>
<li>Timeshift（Linux系统快照工具）</li>
</ul>
</li>
<li><p><strong>故障排查</strong>：</p>
<ul>
<li>引导失败：尝试<code>boot-repair</code>工具</li>
<li>文件系统错误：使用<code>fsck</code>进行检查修复</li>
</ul>
</li>
</ol>
<hr>
<h2 id="历史数据-Linux-已废弃"><a href="#历史数据-Linux-已废弃" class="headerlink" title="历史数据(Linux,已废弃)"></a>历史数据(Linux,已废弃)</h2><ol>
<li>准备工作：<ul>
<li>原系统硬盘</li>
<li>新系统硬盘</li>
<li>带有Live USB的Un盘</li>
</ul>
</li>
<li>bios设置启动U盘,进入U盘Live USB的linux系统</li>
<li>输入<code>lsblk</code>命令查看磁盘信息,找到原系统的磁盘和新系统的磁盘,例如&#x2F;dev&#x2F;sdb1和&#x2F;dev&#x2F;sdb2分别为原系统的EFI分区和根分区,&#x2F;dev&#x2F;sda为新系统磁盘(此处为举例,具体根据<code>lsblk</code>命令输出进行修改)</li>
<li>输入<code>cfdisk</code>命令,对新磁盘进行分区,创建efi分区和根分区,efi设置分区类型为fat32,根分区类型须和原来系统一致,例如原系统为ext4,则新系统根分区也为ext4<br> 格式化EFI分区<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    mkfs.fat -F32 /dev/sda1</span><br><span class="line">    ```  </span><br><span class="line">格式化根分区  </span><br><span class="line">    ```bash</span><br><span class="line">    mkfs.ext4 /dev/sda2</span><br></pre></td></tr></table></figure></li>
<li>挂载分区<ul>
<li>挂载旧磁盘  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /sdb1</span><br><span class="line">mount /dev/sdb1 /sdb1</span><br><span class="line"><span class="built_in">mkdir</span> /sdb2</span><br><span class="line">mount /dev/sdb2 /sdb2</span><br></pre></td></tr></table></figure></li>
<li>挂载新磁盘  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sda2 /mnt</span><br><span class="line"><span class="built_in">mkdir</span> /mnt/boot</span><br><span class="line">mount /dev/sda1 /mnt/boot</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>复制原系统文件到新系统<ul>
<li>复制根分区数据  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -aHAXxSP --exclude=/boot /sdb2/ /mnt/</span><br></pre></td></tr></table></figure></li>
<li>复制EFI分区数据  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -aHAXxSP /sdb2/ /mnt/boot/</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>更新fstab<ul>
<li>生成新的UUID  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blkid</span><br></pre></td></tr></table></figure></li>
<li>修改&#x2F;etc&#x2F;fstab文件,将原系统的UUID和新系统的UUID进行替换</li>
</ul>
</li>
<li>配置启动加载器 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mount --<span class="built_in">bind</span> /dev /mnt/dev</span><br><span class="line">mount --<span class="built_in">bind</span> /proc /mnt/proc</span><br><span class="line">mount --<span class="built_in">bind</span> /sys /mnt/sys</span><br><span class="line"><span class="built_in">cp</span> /etc/resolv.conf /mnt/etc/resolv.conf</span><br></pre></td></tr></table></figure></li>
<li>切换到新根目录   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure></li>
<li>安装配置grub  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub efibootmgr</span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=ArchLinux</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure></li>
<li>重启系统,bios设置从新硬盘启动,进入新系统</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/04/18/Arco%20Linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abel的小天地">
      <meta itemprop="description" content="一个个人资料记录的小地方">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abel的小天地">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/04/18/Arco%20Linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">Arco Linux安装指南</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-04-18 07:59:16" itemprop="dateCreated datePublished" datetime="2022-04-18T07:59:16+08:00">2022-04-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-19 14:47:38" itemprop="dateModified" datetime="2025-03-19T14:47:38+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>ArcoLinux是一个基于Arch Linux的Linux发行版，它提供了优秀的默认配置和丰富的软件包，特别适合那些想要使用Arch Linux但又不想从零开始配置的用户。本文将详细介绍ArcoLinux的安装过程。</p>
<h2 id="版本选择"><a href="#版本选择" class="headerlink" title="版本选择"></a>版本选择</h2><p>ArcoLinux提供多个版本，其中ArcoNet（Net版）是最推荐的版本：</p>
<ul>
<li>预装了丰富的常用软件</li>
<li>默认使用XFCE4桌面环境</li>
<li>支持通过快捷键<code>Ctrl + Alt + E</code>安装其他桌面环境</li>
<li>系统稳定，适合日常使用</li>
</ul>
<h2 id="下载系统"><a href="#下载系统" class="headerlink" title="下载系统"></a>下载系统</h2><p>你可以从以下官方地址下载Arco ISO镜像：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://sourceforge.net/projects/arconetpro/files/</span><br></pre></td></tr></table></figure>

<h2 id="安装准备"><a href="#安装准备" class="headerlink" title="安装准备"></a>安装准备</h2><ol>
<li>准备一个至少8GB的U盘</li>
<li>下载并安装Rufus工具（用于制作启动盘）</li>
<li>使用Rufus将ISO镜像写入U盘</li>
<li>进入BIOS设置，将U盘设置为第一启动项</li>
</ol>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><h3 id="1-启动系统"><a href="#1-启动系统" class="headerlink" title="1. 启动系统"></a>1. 启动系统</h3><ul>
<li>插入制作好的启动U盘</li>
<li>重启电脑，进入ArcoLinux安装环境</li>
</ul>
<h3 id="2-网络配置"><a href="#2-网络配置" class="headerlink" title="2. 网络配置"></a>2. 网络配置</h3><p>ArcoLinux默认通过访问Google来检测网络连接。如果你在国内无法访问Google，需要修改检测地址：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改网络检测配置</span></span><br><span class="line"><span class="built_in">sudo</span> vim /etc/calamares/modules/welcome.conf</span><br><span class="line"><span class="built_in">sudo</span> vim /usr/share/arcolinux-welcome-app/arcolinux-welcome-app.py</span><br></pre></td></tr></table></figure>
<p>将检测地址从google.com改为baidu.com或其他可访问的网站。</p>
<h3 id="3-安装向导"><a href="#3-安装向导" class="headerlink" title="3. 安装向导"></a>3. 安装向导</h3><ol>
<li>选择语言和键盘布局</li>
<li>选择时区</li>
<li>分区设置（建议新手使用自动分区）</li>
<li>创建用户账号和密码</li>
<li>确认安装信息并开始安装</li>
</ol>
<h2 id="安装后配置"><a href="#安装后配置" class="headerlink" title="安装后配置"></a>安装后配置</h2><ol>
<li>更新系统：<code>sudo pacman -Syu</code></li>
<li>配置中文输入法（如需要）</li>
<li>安装其他桌面环境（可选）：使用<code>Ctrl + Alt + E</code>打开桌面环境选择器</li>
</ol>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><ul>
<li>如果安装过程中遇到网络问题，建议先确保网络连接正常</li>
<li>如果需要双系统，建议先安装Windows，再安装ArcoLinux</li>
<li>建议在安装前备份重要数据</li>
</ul>
<h2 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h2><ul>
<li><a target="_blank" rel="noopener" href="https://arcolinux.info/">ArcoLinux官网</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/">Arch Linux Wiki</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/03/03/Arch%20Linux%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abel的小天地">
      <meta itemprop="description" content="一个个人资料记录的小地方">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abel的小天地">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/03/Arch%20Linux%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">Arch Linux环境配置指南</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-03 23:19:57" itemprop="dateCreated datePublished" datetime="2022-03-03T23:19:57+08:00">2022-03-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-19 14:40:27" itemprop="dateModified" datetime="2025-03-19T14:40:27+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul>
<li><a href="#1-%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE">1. 系统基础配置</a><ul>
<li><a href="#11-%E7%B3%BB%E7%BB%9F%E6%BA%90%E9%85%8D%E7%BD%AE">1.1 系统源配置</a></li>
<li><a href="#12-%E7%B3%BB%E7%BB%9F%E6%9B%B4%E6%96%B0%E4%B8%8E%E5%8C%85%E7%AE%A1%E7%90%86">1.2 系统更新与包管理</a></li>
<li><a href="#13-%E6%98%BE%E7%A4%BA%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE">1.3 显示服务配置</a></li>
</ul>
</li>
<li><a href="#2-%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">2. 桌面环境配置</a><ul>
<li><a href="#21-%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E9%80%89%E6%8B%A9">2.1 桌面环境选择</a></li>
<li><a href="#22-%E4%B8%AD%E6%96%87%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">2.2 中文环境配置</a></li>
<li><a href="#23-%E8%BE%93%E5%85%A5%E6%B3%95%E9%85%8D%E7%BD%AE">2.3 输入法配置</a></li>
</ul>
</li>
<li><a href="#3-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85">3. 常用软件安装</a><ul>
<li><a href="#31-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7">3.1 开发工具</a></li>
<li><a href="#32-%E5%8A%9E%E5%85%AC%E8%BD%AF%E4%BB%B6">3.2 办公软件</a></li>
<li><a href="#33-%E5%A4%9A%E5%AA%92%E4%BD%93%E8%BD%AF%E4%BB%B6">3.3 多媒体软件</a></li>
<li><a href="#34-%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7">3.4 系统工具</a></li>
</ul>
</li>
<li><a href="#4-%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96">4. 系统优化</a><ul>
<li><a href="#41-%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6%E9%85%8D%E7%BD%AE">4.1 远程控制配置</a></li>
<li><a href="#42-%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%92%9F%E5%90%8C%E6%AD%A5">4.2 系统时钟同步</a></li>
<li><a href="#43-%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE">4.3 代理配置</a></li>
</ul>
</li>
</ul>
<h1 id="1-系统基础配置"><a href="#1-系统基础配置" class="headerlink" title="1. 系统基础配置"></a>1. 系统基础配置</h1><h2 id="1-1-系统源配置"><a href="#1-1-系统源配置" class="headerlink" title="1.1 系统源配置"></a>1.1 系统源配置</h2><h3 id="添加国内源"><a href="#添加国内源" class="headerlink" title="添加国内源"></a>添加国内源</h3><p>在开头添加以下内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /etc/pacman.d/mirrorlist</span><br><span class="line"><span class="comment"># 清华大学</span></span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></span><br><span class="line"><span class="comment"># 163</span></span><br><span class="line">Server = http://mirrors.163.com/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></span><br><span class="line"><span class="comment"># 阿里云</span></span><br><span class="line">Server = http://mirrors.aliyun.com/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></span><br></pre></td></tr></table></figure>

<h3 id="添加-archlinuxcn-源与-multilib-支持"><a href="#添加-archlinuxcn-源与-multilib-支持" class="headerlink" title="添加 archlinuxcn 源与 multilib 支持"></a>添加 archlinuxcn 源与 multilib 支持</h3><p>在最后添加以下内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /etc/pacman.conf</span><br><span class="line">[archlinuxcn]</span><br><span class="line"><span class="comment"># The Chinese Arch Linux communities packages.</span></span><br><span class="line">SigLevel = Optional TrustAll</span><br><span class="line"><span class="comment"># 清华大学源</span></span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>取消 [multilib] 相关注释以启用 multilib 仓库</p>
<h3 id="安装密钥环"><a href="#安装密钥环" class="headerlink" title="安装密钥环"></a>安装密钥环</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -Syu &amp;&amp; <span class="built_in">sudo</span> pacman -S archlinuxcn-keyring</span><br></pre></td></tr></table></figure>

<h2 id="1-2-系统更新与包管理"><a href="#1-2-系统更新与包管理" class="headerlink" title="1.2 系统更新与包管理"></a>1.2 系统更新与包管理</h2><h3 id="系统更新"><a href="#系统更新" class="headerlink" title="系统更新"></a>系统更新</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -Syu</span><br></pre></td></tr></table></figure>

<h3 id="安装-AUR-助手"><a href="#安装-AUR-助手" class="headerlink" title="安装 AUR 助手"></a>安装 AUR 助手</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S paru</span><br></pre></td></tr></table></figure>

<blockquote>
<p>提示：建议使用 paru 替代 pacman 安装软件包</p>
</blockquote>
<h2 id="1-3-显示服务配置"><a href="#1-3-显示服务配置" class="headerlink" title="1.3 显示服务配置"></a>1.3 显示服务配置</h2><h3 id="安装显示服务"><a href="#安装显示服务" class="headerlink" title="安装显示服务"></a>安装显示服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S xorg</span><br></pre></td></tr></table></figure>

<h3 id="安装显卡驱动"><a href="#安装显卡驱动" class="headerlink" title="安装显卡驱动"></a>安装显卡驱动</h3><p>根据显卡类型选择安装：</p>
<ul>
<li><p>AMD 显卡：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S xf86-video-amdgpu</span><br></pre></td></tr></table></figure>
</li>
<li><p>NVIDIA 显卡：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S nvidia nvidia-utils</span><br></pre></td></tr></table></figure>
</li>
<li><p>NVIDIA 深度学习环境：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S cuda</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="安装显示管理器"><a href="#安装显示管理器" class="headerlink" title="安装显示管理器"></a>安装显示管理器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">paru -S sddm</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> sddm  <span class="comment"># 设置开机自启</span></span><br></pre></td></tr></table></figure>

<h1 id="2-桌面环境配置"><a href="#2-桌面环境配置" class="headerlink" title="2. 桌面环境配置"></a>2. 桌面环境配置</h1><h2 id="2-1-桌面环境选择"><a href="#2-1-桌面环境选择" class="headerlink" title="2.1 桌面环境选择"></a>2.1 桌面环境选择</h2><p>根据需求选择合适的桌面环境：</p>
<ul>
<li><p><strong>KDE Plasma</strong>：功能丰富，美观现代</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S plasma kde-applications packagekit-qt5</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Xfce</strong>：轻量级桌面环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S xfce4 xfce4-goodies</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>i3wm</strong>：平铺式窗口管理器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S i3</span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>注意：安装完桌面环境后需要重启系统</p>
</blockquote>
<h2 id="2-2-中文环境配置"><a href="#2-2-中文环境配置" class="headerlink" title="2.2 中文环境配置"></a>2.2 中文环境配置</h2><h3 id="安装中文字体"><a href="#安装中文字体" class="headerlink" title="安装中文字体"></a>安装中文字体</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S ttf-sarasa-gothic noto-fonts-cjk</span><br></pre></td></tr></table></figure>

<h2 id="2-3-输入法配置"><a href="#2-3-输入法配置" class="headerlink" title="2.3 输入法配置"></a>2.3 输入法配置</h2><h3 id="Fcitx5-输入法（推荐）"><a href="#Fcitx5-输入法（推荐）" class="headerlink" title="Fcitx5 输入法（推荐）"></a>Fcitx5 输入法（推荐）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S fcitx5-im fcitx5-chinese-addons fcitx5-pinyin-zhwiki fcitx5-material-color fcitx5-nord</span><br></pre></td></tr></table></figure>

<p>配置环境变量：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑 /etc/environment 添加：</span></span><br><span class="line">GTK_IM_MODULE=fcitx</span><br><span class="line">QT_IM_MODULE=fcitx</span><br><span class="line">XMODIFIERS=@im=fcitx</span><br><span class="line">SDL_IM_MODULE=fcitx</span><br></pre></td></tr></table></figure>

<p>配置自动启动（按顺序尝试）：</p>
<ol>
<li>XDG 桌面环境（KDE&#x2F;GNOME&#x2F;Xfce）默认自启</li>
<li>创建 ~&#x2F;.config&#x2F;autostart&#x2F;fcitx-autostart.desktop</li>
<li>i3wm 配置文件添加：<code>exec_always --no-startup-id fcitx5</code></li>
</ol>
<h3 id="Fcitx4-输入法（i3wm-备选方案）"><a href="#Fcitx4-输入法（i3wm-备选方案）" class="headerlink" title="Fcitx4 输入法（i3wm 备选方案）"></a>Fcitx4 输入法（i3wm 备选方案）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S fcitx-im fcitx-rime</span><br></pre></td></tr></table></figure>

<p>环境变量配置同 Fcitx5，将启动命令改为：<code>exec_always --no-startup-id fcitx</code></p>
<h1 id="3-常用软件安装"><a href="#3-常用软件安装" class="headerlink" title="3. 常用软件安装"></a>3. 常用软件安装</h1><h2 id="3-1-开发工具"><a href="#3-1-开发工具" class="headerlink" title="3.1 开发工具"></a>3.1 开发工具</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">paru -S visual-studio-code-bin     <span class="comment"># VS Code</span></span><br><span class="line">paru -S neovim                     <span class="comment"># 终端编辑器</span></span><br><span class="line">paru -S alacritty                  <span class="comment"># GPU 加速终端</span></span><br><span class="line">paru -S yazi                       <span class="comment"># 终端文件管理器</span></span><br><span class="line">paru -S fish                       <span class="comment"># Shell 环境</span></span><br></pre></td></tr></table></figure>

<h2 id="3-2-办公软件"><a href="#3-2-办公软件" class="headerlink" title="3.2 办公软件"></a>3.2 办公软件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 办公套件</span></span><br><span class="line">paru -S wps-office wps-office-mui-zh-cn ttf-wps-fonts</span><br><span class="line"></span><br><span class="line"><span class="comment"># 浏览器</span></span><br><span class="line">paru -S firefox google-chrome microsoft-edge-stable-bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通讯工具</span></span><br><span class="line">paru -S wechat qq</span><br><span class="line">paru -S com.qq.weixin.work.deepin  <span class="comment"># 企业微信（需先安装微信）</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 远程工具</span></span><br><span class="line">paru -S x2goserver x2goclient      <span class="comment"># x2go 远程桌面</span></span><br><span class="line"><span class="built_in">sudo</span> x2godbadmin --createdb        <span class="comment"># 创建x2g0数据库</span></span><br><span class="line">paru -S sunloginclient             <span class="comment"># 向日葵</span></span><br><span class="line">paru -S filezilla                  <span class="comment"># FTP 工具</span></span><br></pre></td></tr></table></figure>

<h2 id="3-3-多媒体软件"><a href="#3-3-多媒体软件" class="headerlink" title="3.3 多媒体软件"></a>3.3 多媒体软件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">paru -S obs-studio                 <span class="comment"># 录屏工具</span></span><br><span class="line">paru -S krita gimp                 <span class="comment"># 图像处理</span></span><br><span class="line">paru -S netease-cloud-music        <span class="comment"># 网易云音乐</span></span><br><span class="line">paru -S qqmusic-bin                <span class="comment"># QQ音乐</span></span><br></pre></td></tr></table></figure>

<h2 id="3-4-系统工具"><a href="#3-4-系统工具" class="headerlink" title="3.4 系统工具"></a>3.4 系统工具</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">paru -S timeshift                  <span class="comment"># 系统备份</span></span><br><span class="line">paru -S btop                       <span class="comment"># 系统监控</span></span><br><span class="line">paru -S fastfetch lolcate          <span class="comment"># 系统信息显示</span></span><br><span class="line">paru -S flameshot                  <span class="comment"># 截图工具</span></span><br><span class="line">paru -S feh                        <span class="comment"># 图片查看/壁纸</span></span><br><span class="line">paru -S safeeyes                   <span class="comment"># 护眼提醒</span></span><br><span class="line">paru -S redshiftgui-bin            <span class="comment"># 护眼工具</span></span><br><span class="line">paru -S flclash-bin                <span class="comment"># 网络代理</span></span><br></pre></td></tr></table></figure>

<h1 id="4-系统优化"><a href="#4-系统优化" class="headerlink" title="4. 系统优化"></a>4. 系统优化</h1><h2 id="4-1-远程控制配置"><a href="#4-1-远程控制配置" class="headerlink" title="4.1 远程控制配置"></a>4.1 远程控制配置</h2><h3 id="向日葵配置"><a href="#向日葵配置" class="headerlink" title="向日葵配置"></a>向日葵配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start runsunloginclient   <span class="comment"># 启动服务</span></span><br><span class="line">systemctl <span class="built_in">enable</span> runsunloginclient  <span class="comment"># 开机自启</span></span><br></pre></td></tr></table></figure>

<h3 id="花生壳内网穿透"><a href="#花生壳内网穿透" class="headerlink" title="花生壳内网穿透"></a>花生壳内网穿透</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">paru -S phddns-bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建服务文件</span></span><br><span class="line"><span class="built_in">sudo</span> vim /etc/systemd/system/phddns.service</span><br></pre></td></tr></table></figure>
<p>添加以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=phddns Service</span><br><span class="line">Wants=network-online.target</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">ExecStart=/usr/sbin/phddns start</span><br><span class="line">StandardOutput=syslog</span><br><span class="line">StandardError=null</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>启动服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start phddns.service</span><br><span class="line">systemctl enable phddns.service</span><br></pre></td></tr></table></figure>

<h2 id="4-2-系统时钟同步"><a href="#4-2-系统时钟同步" class="headerlink" title="4.2 系统时钟同步"></a>4.2 系统时钟同步</h2><h3 id="Windows-双系统时间同步"><a href="#Windows-双系统时间同步" class="headerlink" title="Windows 双系统时间同步"></a>Windows 双系统时间同步</h3><p>在 Windows PowerShell（管理员）中执行：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reg add <span class="string">&quot;HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation&quot;</span> /v RealTimeIsUniversal /d <span class="number">1</span> /t REG_QWORD /f</span><br></pre></td></tr></table></figure>

<h2 id="4-3-代理配置"><a href="#4-3-代理配置" class="headerlink" title="4.3 代理配置"></a>4.3 代理配置</h2><h3 id="终端代理设置"><a href="#终端代理设置" class="headerlink" title="终端代理设置"></a>终端代理设置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 临时代理</span></span><br><span class="line"><span class="built_in">export</span> http_proxy=http://127.0.0.1:7890</span><br><span class="line"><span class="built_in">export</span> https_proxy=http://127.0.0.1:7890</span><br></pre></td></tr></table></figure>
<p>添加到 ~&#x2F;.zshrc 实现快捷切换</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alias setproxy=&quot;export http_proxy=http://127.0.0.1:7890 &amp;&amp; export https_proxy=http://127.0.0.1:7890&quot;</span><br><span class="line">alias unproxy=&quot;unset http_proxy https_proxy&quot;</span><br></pre></td></tr></table></figure>
<p>通过setproxy,unproxy命令来控制代理</p>
<hr>
<h1 id="方式2（脚本配置）"><a href="#方式2（脚本配置）" class="headerlink" title="方式2（脚本配置）"></a>方式2（脚本配置）</h1><p>参考该项目介绍<a target="_blank" rel="noopener" href="https://github.com/abelxiaoxing/archlinux_config">abel的个人配置</a></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/">Arch Linux 官方 Wiki</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Fcitx5_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Fcitx5 中文配置指南</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/157260502">Archlinux最新安装教程：2020-07</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/03/03/Arch%20Linux%20%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abel的小天地">
      <meta itemprop="description" content="一个个人资料记录的小地方">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abel的小天地">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/03/Arch%20Linux%20%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">Arch Linux 安装指南</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-03 23:19:02" itemprop="dateCreated datePublished" datetime="2022-03-03T23:19:02+08:00">2022-03-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-19 14:47:58" itemprop="dateModified" datetime="2025-03-19T14:47:58+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本教程将指导你完成 Arch Linux 的安装过程。安装过程包括基础系统安装和基本系统配置两个主要部分。</p>
<h2 id="安装前准备"><a href="#安装前准备" class="headerlink" title="安装前准备"></a>安装前准备</h2><h3 id="1-下载和制作启动盘"><a href="#1-下载和制作启动盘" class="headerlink" title="1. 下载和制作启动盘"></a>1. 下载和制作启动盘</h3><ul>
<li>从官方网站下载最新的 ISO 镜像：<a target="_blank" rel="noopener" href="https://www.archlinux.org/download/">Arch Linux 下载页面</a></li>
<li>准备一个容量大于 4GB 的 U 盘</li>
<li>制作启动盘：<ul>
<li>通用推荐：使用 Ventoy 工具制作，参考 <a target="_blank" rel="noopener" href="https://www.ventoy.net/cn/index.html">Ventoy 教程</a></li>
<li>Windows 用户：使用 Rufus 工具制作，参考 <a target="_blank" rel="noopener" href="https://rufus.ie/zh/">Rufus 教程</a></li>
<li>Linux 用户：使用 dd 命令，参考 <a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-dd.html">dd 命令教程</a></li>
</ul>
</li>
</ul>
<h3 id="2-BIOS-设置"><a href="#2-BIOS-设置" class="headerlink" title="2. BIOS 设置"></a>2. BIOS 设置</h3><ol>
<li>进入 BIOS 设置（开机时按 Del&#x2F;F2&#x2F;F8 等键，具体键位因主板品牌而异）</li>
<li>调整启动顺序：将 U 盘设置为第一启动项</li>
<li>启动模式：强烈建议使用 UEFI 模式（更现代、功能更完善），而非传统的 BIOS（Legacy）模式</li>
</ol>
<blockquote>
<p>提示：如果不确定如何进入 BIOS，可以搜索：”主板品牌 + 进入 BIOS”</p>
</blockquote>
<h2 id="基础系统安装"><a href="#基础系统安装" class="headerlink" title="基础系统安装"></a>基础系统安装</h2><h3 id="1-快速安装（可选）"><a href="#1-快速安装（可选）" class="headerlink" title="1. 快速安装（可选）"></a>1. 快速安装（可选）</h3><p>如果想使用官方提供的安装向导，可以直接输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">archinstall</span><br></pre></td></tr></table></figure>

<h3 id="2-联网设置"><a href="#2-联网设置" class="headerlink" title="2. 联网设置"></a>2. 联网设置</h3><h4 id="有线网络"><a href="#有线网络" class="headerlink" title="有线网络"></a>有线网络</h4><ul>
<li>方法一：直接插入网线即可自动连接</li>
<li>方法二：用usb有线连接手机，手机打开网络共享</li>
</ul>
<h4 id="无线网络"><a href="#无线网络" class="headerlink" title="无线网络"></a>无线网络</h4><ol>
<li><p>进入网络管理工具：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iwctl</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看网卡设备：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">device list</span><br></pre></td></tr></table></figure>
<p>得到无线网卡的设备详细信息，记住Name的信息，以下以wlan0作为示范。</p>
</li>
<li><p>扫描并连接网络（以 wlan0 为例）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">station wlan0 scan                <span class="comment"># 扫描网络</span></span><br><span class="line">station wlan0 get-networks        <span class="comment"># 显示可用网络</span></span><br><span class="line">station wlan0 connect <span class="string">&quot;网络名称&quot;</span>    <span class="comment"># 连接网络</span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>注意：如果网络名称包含中文，建议先修改为英文名称以避免乱码</p>
</blockquote>
<ol start="4">
<li>退出并测试网络：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">quit                    <span class="comment"># 退出 iwctl</span></span><br><span class="line">ping -c 3 baidu.com     <span class="comment"># 测试网络连接</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="3-系统时间同步"><a href="#3-系统时间同步" class="headerlink" title="3. 系统时间同步"></a>3. 系统时间同步</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="4-磁盘分区"><a href="#4-磁盘分区" class="headerlink" title="4. 磁盘分区"></a>4. 磁盘分区</h3><ol>
<li><p>查看磁盘信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk    <span class="comment"># 列出所有存储设备</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建分区表（以 &#x2F;dev&#x2F;sda 为例）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cfdisk /dev/sda</span><br></pre></td></tr></table></figure>
</li>
<li><p>分区方案（UEFI 引导）：</p>
</li>
</ol>
<ul>
<li>EFI 系统分区：200MB（类型：EFI System）</li>
<li>交换分区：内存大小（类型：Linux swap）</li>
<li>根分区：剩余空间（类型：Linux filesystem）</li>
</ul>
<blockquote>
<p>重要：完成分区后，记得选择 <code>Write</code> 保存更改！</p>
</blockquote>
<ol start="4">
<li><p>格式化分区：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># EFI 系统分区格式化为 FAT32</span></span><br><span class="line">mkfs.vfat /dev/sda1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 交换分区初始化</span></span><br><span class="line">mkswap /dev/sda2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根分区格式化为 f2fs</span></span><br><span class="line">mkfs.f2fs -f /dev/sda3</span><br></pre></td></tr></table></figure>
</li>
<li><p>挂载分区：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 挂载根分区</span></span><br><span class="line">mount /dev/sda3 /mnt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建并挂载 EFI 分区</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /mnt/boot</span><br><span class="line">mount /dev/sda1 /mnt/boot</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用交换分区</span></span><br><span class="line">swapon /dev/sda2</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="5-安装基本系统"><a href="#5-安装基本系统" class="headerlink" title="5. 安装基本系统"></a>5. 安装基本系统</h3><ol>
<li><p>安装核心软件包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt linux linux-firmware linux-headers base base-devel vim neovim git bash-completion</span><br></pre></td></tr></table></figure>
</li>
<li><p>生成 fstab 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure>
</li>
<li><p>进入新系统：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="6-系统配置"><a href="#6-系统配置" class="headerlink" title="6. 系统配置"></a>6. 系统配置</h3><ol>
<li><p>设置时区：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line">hwclock --systohc    <span class="comment"># 同步硬件时钟</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>本地化设置：<br>编辑 locale.gen  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvim /etc/locale.gen</span><br></pre></td></tr></table></figure></li>
</ol>
<p>取消以下两行的注释：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">en_US.UTF-8 UTF-8</span><br><span class="line">zh_CN.UTF-8 UTF-8</span><br></pre></td></tr></table></figure>

<p>生成 locale  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></table></figure>

<p>设置系统语言（建议使用英文，避免 TTY 乱码）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;LANG=en_US.UTF-8&quot;</span> &gt; /etc/locale.conf</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>网络配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置主机名</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;archlinux&quot;</span> &gt; /etc/hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置 hosts 文件</span></span><br><span class="line"><span class="built_in">cat</span> &gt; /etc/hosts &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">127.0.0.1   localhost</span></span><br><span class="line"><span class="string">::1         localhost</span></span><br><span class="line"><span class="string">127.0.1.1   archlinux.localdomain archlinux</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装引导程序：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装必要包（根据 CPU 选择 intel-ucode 或 amd-ucode）</span></span><br><span class="line">pacman -S grub efibootmgr efivar networkmanager intel-ucode</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 GRUB</span></span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Arch</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成 GRUB 配置</span></span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
</li>
<li><p>启用网络服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> NetworkManager</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置 root 密码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure>
</li>
<li><p>退出并重启：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exit</span>          <span class="comment"># 退出 chroot 环境</span></span><br><span class="line">umount -a     <span class="comment"># 卸载所有分区</span></span><br><span class="line">reboot        <span class="comment"># 重启系统</span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>重要：重启黑屏后的开机前请移除安装介质（U 盘）</p>
</blockquote>
<h2 id="新系统初始配置"><a href="#新系统初始配置" class="headerlink" title="新系统初始配置"></a>新系统初始配置</h2><h3 id="1-网络连接"><a href="#1-网络连接" class="headerlink" title="1. 网络连接"></a>1. 网络连接</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动并开机自启网络服务</span></span><br><span class="line">systemctl start iwd.service</span><br><span class="line">systemctl <span class="built_in">enable</span> iwd.service</span><br><span class="line">systemctl <span class="built_in">enable</span> --now NetworkManager</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置 WiFi</span></span><br><span class="line">nmtui</span><br></pre></td></tr></table></figure>

<h3 id="2-创建普通用户"><a href="#2-创建普通用户" class="headerlink" title="2. 创建普通用户"></a>2. 创建普通用户</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建新用户并加入 wheel 组</span></span><br><span class="line">useradd -m -G wheel 用户名</span><br><span class="line">passwd 用户名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 sudo</span></span><br><span class="line">pacman -S <span class="built_in">sudo</span></span><br></pre></td></tr></table></figure>
<p>配置 sudo 权限<br>在<code>/etc/sudoers</code>文件中的<code>root ALL=(ALL) ALL</code>行下添加<code>用户名 ALL=(ALL) ALL</code></p>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><ol>
<li><p>如果安装过程中遇到网络问题，可以尝试：</p>
<ul>
<li>检查网线连接</li>
<li>重新扫描无线网络</li>
<li>确认网卡驱动是否正确加载</li>
</ul>
</li>
<li><p>如果遇到分区问题：</p>
<ul>
<li>确保使用正确的分区表类型（UEFI 用 GPT）</li>
<li>检查分区是否正确挂载</li>
<li>验证分区格式是否正确</li>
</ul>
</li>
</ol>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Arch Linux 官方安装指南</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/">ArchWiki</a></li>
<li><a target="_blank" rel="noopener" href="https://www.viseator.com/2017/05/17/arch_install/">Viseator 的 Arch Linux 安装教程</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/03/02/frp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abel的小天地">
      <meta itemprop="description" content="一个个人资料记录的小地方">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abel的小天地">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/03/02/frp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">frp内网穿透搭建教程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-02 14:17:51" itemprop="dateCreated datePublished" datetime="2022-03-02T14:17:51+08:00">2022-03-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-19 15:33:21" itemprop="dateModified" datetime="2025-03-19T15:33:21+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>frp是一个可用于内网穿透的高性能反向代理应用，支持TCP、UDP、HTTP、HTTPS等多种协议。利用frp可以轻松地将内网服务暴露到公网，实现远程访问内网设备的目的。</p>
<p>本教程将详细介绍如何在云服务器和内网主机上分别配置frp服务端(frps)和客户端(frpc)。</p>
<h2 id="一、云服务器frps配置"><a href="#一、云服务器frps配置" class="headerlink" title="一、云服务器frps配置"></a>一、云服务器frps配置</h2><h3 id="1-下载并解压缩"><a href="#1-下载并解压缩" class="headerlink" title="1. 下载并解压缩"></a>1. 下载并解压缩</h3><p>首先，前往<a target="_blank" rel="noopener" href="https://github.com/fatedier/frp/releases">frp官方GitHub仓库</a>下载对应版本的资源包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.61.1/frp_0.61.1_linux_amd64.tar.gz</span><br><span class="line">tar -xzvf frp_0.61.1_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="2-删除多余配置并移到指定目录"><a href="#2-删除多余配置并移到指定目录" class="headerlink" title="2. 删除多余配置并移到指定目录"></a>2. 删除多余配置并移到指定目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> frp_0.61.1_linux_amd64</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> frpc frpc.toml frpc_full.toml </span><br><span class="line"><span class="built_in">cd</span></span><br><span class="line"><span class="built_in">mv</span> download/frp_0.61.1_linux_amd64 frp</span><br></pre></td></tr></table></figure>

<h3 id="3-修改frps-toml配置文件"><a href="#3-修改frps-toml配置文件" class="headerlink" title="3. 修改frps.toml配置文件"></a>3. 修改frps.toml配置文件</h3><p>修改公网服务器上的服务端配置文件 <code>frps.toml</code>，基本配置如下：</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frp服务端端口（必须）</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">7000</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：这是最基本的配置，您可以根据需要添加更多配置项，如认证信息、日志设置等。</p>
</blockquote>
<h3 id="4-后台运行frps服务"><a href="#4-后台运行frps服务" class="headerlink" title="4. 后台运行frps服务"></a>4. 后台运行frps服务</h3><p>进入frp目录并启动服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> frp</span><br><span class="line"><span class="built_in">nohup</span> ./frps -c ./frps.toml &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>

<h2 id="二、内网主机frpc配置"><a href="#二、内网主机frpc配置" class="headerlink" title="二、内网主机frpc配置"></a>二、内网主机frpc配置</h2><h3 id="1-下载并解压缩-1"><a href="#1-下载并解压缩-1" class="headerlink" title="1. 下载并解压缩"></a>1. 下载并解压缩</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.61.1/frp_0.61.1_linux_amd64.tar.gz</span><br><span class="line">tar -xzvf frp_0.61.1_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="2-删除多余配置并移到指定目录-1"><a href="#2-删除多余配置并移到指定目录-1" class="headerlink" title="2. 删除多余配置并移到指定目录"></a>2. 删除多余配置并移到指定目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> frp_0.61.1_linux_amd64</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> frps frps.toml frps_full.toml </span><br><span class="line"><span class="built_in">cd</span></span><br><span class="line"><span class="built_in">mv</span> download/frp_0.61.1_linux_amd64 frp</span><br></pre></td></tr></table></figure>

<h3 id="3-修改frpc-toml配置文件"><a href="#3-修改frpc-toml配置文件" class="headerlink" title="3. 修改frpc.toml配置文件"></a>3. 修改frpc.toml配置文件</h3><p>修改内网目标主机的客户端配置文件 <code>frpc.toml</code>，示例配置如下：</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frp服务端地址，必须是公网ip或者域名</span></span><br><span class="line"><span class="attr">serverAddr</span> = <span class="string">&quot;xxx.xxx.xxx.xxx&quot;</span></span><br><span class="line"><span class="comment"># frp服务端端口，即填写服务端配置中的 bind_port</span></span><br><span class="line"><span class="attr">serverPort</span> = <span class="number">7000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SSH服务转发配置</span></span><br><span class="line"><span class="section">[[proxies]]</span></span><br><span class="line"><span class="comment"># 代理名称，确保唯一性</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;xxxx_ssh&quot;</span></span><br><span class="line"><span class="comment"># 连接类型，填tcp或udp</span></span><br><span class="line"><span class="attr">type</span> = <span class="string">&quot;tcp&quot;</span></span><br><span class="line"><span class="comment"># 本地IP地址</span></span><br><span class="line"><span class="attr">localIP</span> = <span class="string">&quot;127.0.0.1&quot;</span></span><br><span class="line"><span class="comment"># 需要转发的本地端口，SSH端口是22</span></span><br><span class="line"><span class="attr">localPort</span> = <span class="number">22</span></span><br><span class="line"><span class="comment"># frp服务端的远程监听端口</span></span><br><span class="line"><span class="comment"># 访问服务端的此端口就相当于访问客户端的local_port</span></span><br><span class="line"><span class="comment"># 如果填0则会随机分配一个端口</span></span><br><span class="line"><span class="attr">remotePort</span> = <span class="number">6000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Web界面服务转发配置</span></span><br><span class="line"><span class="section">[[proxies]]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;xxxx_webui&quot;</span></span><br><span class="line"><span class="attr">type</span> = <span class="string">&quot;tcp&quot;</span></span><br><span class="line"><span class="attr">localIP</span> = <span class="string">&quot;127.0.0.1&quot;</span></span><br><span class="line"><span class="comment"># 需要转发的本地Web服务端口</span></span><br><span class="line"><span class="attr">localPort</span> = <span class="number">11100</span></span><br><span class="line"><span class="comment"># 服务端远程监听端口</span></span><br><span class="line"><span class="attr">remotePort</span> = <span class="number">6001</span></span><br></pre></td></tr></table></figure>

<h2 id="三、设置开机自启动"><a href="#三、设置开机自启动" class="headerlink" title="三、设置开机自启动"></a>三、设置开机自启动</h2><h3 id="1-创建systemd服务脚本"><a href="#1-创建systemd服务脚本" class="headerlink" title="1. 创建systemd服务脚本"></a>1. 创建systemd服务脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /usr/lib/systemd/system/frpc.service</span><br></pre></td></tr></table></figure>

<p>写入以下内容（注意替换用户名和实际路径）：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=frpc service </span><br><span class="line"><span class="attr">After</span>=network-<span class="literal">on</span>line.target network.target syslog.target</span><br><span class="line"><span class="attr">Wants</span>=network-<span class="literal">on</span>line.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=simple</span><br><span class="line"><span class="attr">ExecStart</span>=/home/用户名/tools/frp/frpc -c /home/用户名/tools/frp/frpc.toml</span><br><span class="line"><span class="attr">Restart</span>=<span class="literal">on</span>-failure</span><br><span class="line"><span class="attr">RestartSec</span>=<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure>

<h3 id="2-启用并设置开机自启"><a href="#2-启用并设置开机自启" class="headerlink" title="2. 启用并设置开机自启"></a>2. 启用并设置开机自启</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl start frpc</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> frpc</span><br></pre></td></tr></table></figure>

<h2 id="四、安全配置"><a href="#四、安全配置" class="headerlink" title="四、安全配置"></a>四、安全配置</h2><h3 id="1-开放云服务器端口"><a href="#1-开放云服务器端口" class="headerlink" title="1. 开放云服务器端口"></a>1. 开放云服务器端口</h3><p>在云服务器控制台的安全组或防火墙设置中，开放以下端口：</p>
<ul>
<li>frp服务端口（默认7000）</li>
<li>所有在frpc.toml中配置的remotePort端口</li>
</ul>
<h3 id="2-安全建议"><a href="#2-安全建议" class="headerlink" title="2. 安全建议"></a>2. 安全建议</h3><ul>
<li>建议在frps.toml中配置身份验证</li>
<li>使用非标准端口</li>
<li>定期更新frp版本以获取安全补丁</li>
</ul>
<h2 id="五、验证连接"><a href="#五、验证连接" class="headerlink" title="五、验证连接"></a>五、验证连接</h2><p>配置完成后，可以通过以下方式验证连接是否成功：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SSH连接测试</span></span><br><span class="line">ssh -p 6000 用户名@服务器公网IP</span><br><span class="line"></span><br><span class="line"><span class="comment"># Web服务测试</span></span><br><span class="line"><span class="comment"># 在浏览器中访问</span></span><br><span class="line">http://服务器公网IP:6001</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过以上步骤，您已经成功搭建了基于frp的内网穿透服务。现在您可以从公网访问内网的各种服务了。如需更多高级配置，请参考<a target="_blank" rel="noopener" href="https://github.com/fatedier/frp">frp官方文档</a>。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/02/28/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abel的小天地">
      <meta itemprop="description" content="一个个人资料记录的小地方">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abel的小天地">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/28/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">深度学习环境搭建指南</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-28 03:24:49" itemprop="dateCreated datePublished" datetime="2022-02-28T03:24:49+08:00">2022-02-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-20 10:19:01" itemprop="dateModified" datetime="2025-03-20T10:19:01+08:00">2025-03-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>本文将详细介绍如何在Ubuntu系统上搭建深度学习环境，包括NVIDIA显卡驱动、CUDA Toolkit和cuDNN的安装配置过程。</p>
<blockquote>
<p>注：如果您使用的是Arch Linux系统，可以通过以下命令一键完成所有安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru -S cudnn</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="1-NVIDIA显卡驱动安装"><a href="#1-NVIDIA显卡驱动安装" class="headerlink" title="1. NVIDIA显卡驱动安装"></a>1. NVIDIA显卡驱动安装</h2><h3 id="1-1-准备工作"><a href="#1-1-准备工作" class="headerlink" title="1.1 准备工作"></a>1.1 准备工作</h3><p>首先使用 <code>Ctrl + Alt + F1</code> 进入字符终端界面，执行以下步骤：</p>
<ol>
<li><p>删除已有的NVIDIA驱动：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get purge nvidia*</span><br><span class="line"><span class="built_in">sudo</span> apt-get autoremove</span><br><span class="line"><span class="built_in">sudo</span> ./NVIDIA-Linux-X86_64-384.59.run --uninstall</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装必要的依赖：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install build-essential gcc-multilib dkms</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-2-禁用Nouveau驱动"><a href="#1-2-禁用Nouveau驱动" class="headerlink" title="1.2 禁用Nouveau驱动"></a>1.2 禁用Nouveau驱动</h3><ol>
<li><p>编辑配置文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nvim /etc/modprobe.d/blacklist-nouveau.conf</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加以下内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">blacklist nouveau</span><br><span class="line">blacklist lbm-nouveau</span><br><span class="line">options nouveau modeset=0</span><br><span class="line"><span class="built_in">alias</span> nouveau off</span><br><span class="line"><span class="built_in">alias</span> lbm-nouveau off</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行以下命令禁用Nouveau：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> options nouveau modeset=0 | <span class="built_in">sudo</span> <span class="built_in">tee</span> -a /etc/modprobe.d/nouveau-kms.conf</span><br><span class="line"><span class="built_in">sudo</span> update-initramfs -u</span><br><span class="line"><span class="built_in">sudo</span> reboot</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-3-安装NVIDIA驱动"><a href="#1-3-安装NVIDIA驱动" class="headerlink" title="1.3 安装NVIDIA驱动"></a>1.3 安装NVIDIA驱动</h3><ol>
<li><p>安装内核源码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install linux-source</span><br><span class="line"><span class="built_in">sudo</span> apt-get install linux-headers-$(<span class="built_in">uname</span> -r)</span><br></pre></td></tr></table></figure>
</li>
<li><p>关闭图形界面服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl stop lightdm  <span class="comment"># 或 sudo service lightdm stop</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl stop gdm</span><br><span class="line"><span class="built_in">sudo</span> systemctl stop kdm</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载并安装NVIDIA驱动：</p>
</li>
</ol>
<ul>
<li>从<a target="_blank" rel="noopener" href="https://www.nvidia.cn/Download/index.aspx?lang=cn">NVIDIA官网</a>下载对应版本的驱动<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> +x NVIDIA*.run</span><br><span class="line"><span class="built_in">sudo</span> ./NVIDIA-Linux-x86_64-384.59.run</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="4">
<li>验证安装：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="2-CUDA-Toolkit安装"><a href="#2-CUDA-Toolkit安装" class="headerlink" title="2. CUDA Toolkit安装"></a>2. CUDA Toolkit安装</h2><ol>
<li><p>从<a target="_blank" rel="noopener" href="https://developer.nvidia.com/cuda-downloads">NVIDIA CUDA下载页面</a>下载适合的CUDA版本</p>
<blockquote>
<p>注：Fedora版本也可用于Arch Linux</p>
</blockquote>
</li>
<li><p>安装CUDA：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> u+x cuda_&lt;version&gt;_linux.run</span><br><span class="line"><span class="built_in">sudo</span> ./cuda_&lt;version&gt;_linux.run</span><br></pre></td></tr></table></figure>
</li>
<li><p>验证安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc -V</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="3-cuDNN安装"><a href="#3-cuDNN安装" class="headerlink" title="3. cuDNN安装"></a>3. cuDNN安装</h2><ol>
<li><p>从<a target="_blank" rel="noopener" href="https://developer.nvidia.com/rdp/cudnn-archive">cuDNN下载页面</a>下载对应版本</p>
</li>
<li><p>安装cuDNN：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 复制头文件</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> include/* /usr/local/cuda/include/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制库文件</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> lib/* /usr/local/cuda/lib64/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加执行权限</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> +x /usr/local/cuda/include/cudnn.h</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> +x /usr/local/cuda/lib64/libcudnn*</span><br></pre></td></tr></table></figure>
</li>
<li><p>验证安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /usr/local/cuda/include/cudnn_version.h | grep CUDNN_MAJOR -A 2</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="4-CUDA版本切换"><a href="#4-CUDA版本切换" class="headerlink" title="4. CUDA版本切换"></a>4. CUDA版本切换</h2><p>如需切换CUDA版本，执行以下步骤：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除原CUDA符号链接</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -rf cuda</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建立新的CUDA符号链接</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -s cuda-&lt;version&gt; cuda</span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证版本</span></span><br><span class="line">nvcc -V</span><br></pre></td></tr></table></figure>

<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/NVIDIA_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Arch Linux Wiki - NVIDIA</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40907977/article/details/115305634">NVIDIA驱动安装教程</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/public669/article/details/98470857">CUDA环境配置指南</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/bigconvience/article/details/8782668">深度学习环境搭建</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://abelxiaoxing.github.io/2022/02/28/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="abelxiaoxing">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abel的小天地">
      <meta itemprop="description" content="一个个人资料记录的小地方">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | abel的小天地">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/28/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">hexo博客搭建</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-28 01:52:08" itemprop="dateCreated datePublished" datetime="2022-02-28T01:52:08+08:00">2022-02-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-19 15:40:09" itemprop="dateModified" datetime="2025-03-19T15:40:09+08:00">2025-03-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Hexo博客搭建指南"><a href="#Hexo博客搭建指南" class="headerlink" title="Hexo博客搭建指南"></a>Hexo博客搭建指南</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Hexo是一个快速、简洁且高效的博客框架，支持Markdown格式的文章编写。本指南将介绍如何使用不同的包管理器（pnpm和npm&#x2F;cnpm）搭建Hexo博客，并部署到GitHub Pages。</p>
<h2 id="2024年使用pnpm搭建博客"><a href="#2024年使用pnpm搭建博客" class="headerlink" title="2024年使用pnpm搭建博客"></a>2024年使用pnpm搭建博客</h2><p>pnpm相比于npm性能更好，且依赖管理更加高效，推荐使用此方式进行博客搭建。</p>
<h3 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h3><ol>
<li><p>安装Node.js和pnpm</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S nodejs pnpm</span><br></pre></td></tr></table></figure>
</li>
<li><p>检查安装版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">pnpm -v</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置国内镜像源加速</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm config <span class="built_in">set</span> registry https://registry.npmmirror.com/</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Hexo安装与初始化"><a href="#Hexo安装与初始化" class="headerlink" title="Hexo安装与初始化"></a>Hexo安装与初始化</h3><ol>
<li><p>全局安装Hexo命令行工具</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>
</li>
<li><p>检查Hexo安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建并初始化博客目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">hexo init    <span class="comment"># 如果卡住，可能需要翻墙或更换源</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="博客基本操作"><a href="#博客基本操作" class="headerlink" title="博客基本操作"></a>博客基本操作</h3><ol>
<li><p>本地启动博客预览</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s    <span class="comment"># 本地默认地址：http://localhost:4000</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建新博客文章</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n <span class="string">&quot;你的博客标题&quot;</span>    <span class="comment"># 在source/_posts/目录下生成md文件</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>清理与生成静态文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean    <span class="comment"># 清理缓存和已生成的静态文件</span></span><br><span class="line">hexo g        <span class="comment"># 生成静态文件</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="部署到GitHub-Pages"><a href="#部署到GitHub-Pages" class="headerlink" title="部署到GitHub Pages"></a>部署到GitHub Pages</h3><ol>
<li><p>安装Git部署插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置部署信息<br>编辑_config.yml文件，找到deployment部分并修改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:yourname/yourname.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置SSH密钥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa    <span class="comment"># 生成SSH密钥</span></span><br></pre></td></tr></table></figure>
<p>将~&#x2F;.ssh&#x2F;id_rsa.pub中的内容添加到GitHub账户的SSH keys中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com    # 检查SSH连接是否成功</span><br></pre></td></tr></table></figure>
</li>
<li><p>部署到GitHub</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d    <span class="comment"># 部署到GitHub Pages</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="主题设置"><a href="#主题设置" class="headerlink" title="主题设置"></a>主题设置</h3><ol>
<li><p>安装Next主题</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/next-theme/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>
</li>
<li><p>启用主题</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑博客根目录下的_config.yml文件，修改theme字段：</span></span><br><span class="line">theme: next</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="2022年使用cnpm搭建博客"><a href="#2022年使用cnpm搭建博客" class="headerlink" title="2022年使用cnpm搭建博客"></a>2022年使用cnpm搭建博客</h2><p>如果您更习惯使用npm&#x2F;cnpm，也可以参考以下步骤进行博客搭建。</p>
<h3 id="环境准备-1"><a href="#环境准备-1" class="headerlink" title="环境准备"></a>环境准备</h3><ol>
<li><p>安装Node.js和npm</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S nodejs npm</span><br></pre></td></tr></table></figure>
</li>
<li><p>检查安装版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装cnpm（国内源加速）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
</li>
<li><p>检查cnpm安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm -v</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Hexo安装与初始化-1"><a href="#Hexo安装与初始化-1" class="headerlink" title="Hexo安装与初始化"></a>Hexo安装与初始化</h3><ol>
<li><p>全局安装Hexo命令行工具</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>
</li>
<li><p>检查Hexo安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建并初始化博客目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line"><span class="built_in">sudo</span> hexo init    <span class="comment"># 如果卡住，可能需要翻墙或更换源</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="常见问题与解决方案"><a href="#常见问题与解决方案" class="headerlink" title="常见问题与解决方案"></a>常见问题与解决方案</h2><ol>
<li><p><strong>初始化卡住</strong>：可能是网络问题，尝试使用代理或更换国内镜像源。</p>
</li>
<li><p><strong>部署失败</strong>：检查GitHub仓库名称是否正确，SSH密钥是否配置成功。</p>
</li>
<li><p><strong>主题不生效</strong>：确保_config.yml中的theme字段设置正确，并且主题文件夹存在。</p>
</li>
</ol>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">Hexo官方文档</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=erKYtw4Rfhk">YouTube教程</a></li>
<li><a target="_blank" rel="noopener" href="https://tding.top/archives/aad98408.html#more">博客教程</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">abelxiaoxing</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
